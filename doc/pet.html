<!DOCTYPE doctype PUBLIC "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
  <meta http-equiv="Content-Type"
 content="text/html; charset=iso-8859-1">
  <meta name="GENERATOR"
 content="Mozilla/4.5 [en] (X11; I; SunOS 5.5.1 sun4u) [Netscape]">
  <title>Program Overview: control</title>
</head>
<body>
<center>
<h1> Program Overview: pet<br>
</h1>
</center>
<hr>
<p>This document provides a description of the pet application, which
is used to view and edit Accelerator Device Objects (ADOs), Simple
Logical Devices (SLDs), Complex Logical Devices (CLDs), MetaDevices and
Parameters in the C-AD Controls System.<br>
</p>
<center>
<table border="2" cellpadding="4" width="85%">
  <tbody>
    <tr>
      <td colstart="1"><br>
      </td>
      <th>Date&nbsp;</th>
      <th>Author&nbsp;</th>
      <th>Email&nbsp;</th>
    </tr>
    <tr>
      <th align="left">Program Created&nbsp;</th>
      <td align="center">5/29/03&nbsp;</td>
      <td>Seth Nemesure&nbsp;</td>
      <td><a href="mailto:seth@bnl.gov">seth@bnl.gov</a></td>
    </tr>
    <tr>
      <th align="left">Last Modified&nbsp;</th>
      <td align="center">5/29/03&nbsp;</td>
      <td>Seth Nemesure&nbsp;</td>
      <td><a href="mailto:seth@bnl.gov">seth@bnl.gov</a></td>
    </tr>
    <tr>
      <td><b>Last Modified</b></td>
      <td>
      <center>7/1/03</center>
      </td>
      <td>Seth Nemesure</td>
      <td><a href="mailto:seth@bnl.gov">seth@bnl.gov</a></td>
    </tr>
  </tbody>
</table>
</center>
<h2> <a name="TableOfContents"></a>Table of Contents</h2>
<ul>
  <li> <a href="#Introduction">Introduction</a></li>
  <li> <a href="#ReleaseInformation">Release Information</a></li>
  <li> <a href="#StartingTheProgram">Starting the Program</a></li>
  <li> <a href="#SECTION1">The Main Window</a></li>
  <ul>
    <li> <a href="#GettingHelp">Getting Help</a></li>
    <li> <a href="#SelectingADeviceList">Selecting a Device List</a></li>
    <li> <a href="#UsingMultipleDevicePages">Using Multiple Device Pages</a></li>
    <li> <a href="#SettingAPpmUser">Setting a PPM User</a></li>
  </ul>
  <li> <a href="#TheDevicePageWindow">The Device Page Window</a></li>
  <ul>
    <li><a href="#ADOStyle">ADO Style Page</a></li>
    <ul>
      <li><a href="#PetTable">ADO Table</a></li>
      <ul>
        <li><a href="#AdoNameCell">ADO Name Cell</a></li>
        <li><a href="#ShowAllParamDescription">Show All Parameters</a><br>
        </li>
        <li><a href="#BlankCell">Blank Cell</a></li>
        <li><a href="#TextCell">Text Cell</a></li>
        <li><a href="#ParameterCell">Parameter Cell</a></li>
      </ul>
      <li><a href="#PetInformationBar">Information Bar</a></li>
      <ul>
        <li><a href="#CellActivity">Cell Activity</a></li>
        <li><a href="#CursorLocation">Cursor Location</a></li>
        <li><a href="#CellDescription">Cell Description</a></li>
        <li><a href="#NudgeDescription">Nudge Description</a><br>
        </li>
        <li><a href="#PageActivity">Page Activity</a></li>
      </ul>
      <li><a href="#PetMessageArea">Message Area</a></li>
      <li><a href="#PetGraph">Pet Graph</a><br>
      </li>
      <li><a href="#BufferTable">Buffer Table</a></li>
      <li><a href="#SaveAnArchive">Save an Archive</a></li>
      <li><a href="#LoadAnArchiveIntoTheBuffer">Load an Archive into
the Buffer</a></li>
      <li><a href="#SendTheBuffer">Send the Buffer</a></li>
      <li><a href="#petFile">Pet File Format for ADOs</a><br>
      </li>
      <ul>
        <li><a href="#param">Parameters</a></li>
        <ul>
          <li><a href="#paramExamples">Parameter Examples</a></li>
        </ul>
        <li><a href="#attrib">Attributes</a></li>
        <ul>
          <li><a href="#availableAttrib">Available Attributes</a></li>
          <li><a href="#attribExamples">Attribute Examples</a></li>
        </ul>
        <li><a href="#mixed">Parameters &amp; Attributes Mixed</a></li>
        <ul>
          <li><a href="#mixedExamples">Mixed Examples</a><br>
          </li>
        </ul>
      </ul>
    </ul>
  </ul>
  <ul>
    <li><a href="#SLDPages">SLD/CLD Style Page</a><br>
    </li>
  </ul>
  <ul>
    <ul>
      <li> <a href="#ViewingDevices">Viewing Devices</a></li>
    </ul>
    <ul>
      <li> <a href="#EditingDevices">Editing Devices</a></li>
    </ul>
    <ul>
      <li> <a href="#Nudging">Nudging (Increment/Decrement)</a></li>
    </ul>
    <ul>
      <li> <a href="#UsingTheBuffer">Using the Buffer</a></li>
    </ul>
    <ul>
      <li> <a href="#GraphicsOptions">Graphics Options</a></li>
    </ul>
  </ul>
  <ul>
    <ul>
      <li> <a href="#WorkingWithClds">Working with CLDs</a></li>
    </ul>
  </ul>
  <ul>
    <ul>
      <li> <a href="#WorkingWithMetaDevices">Working with Meta Devices</a></li>
    </ul>
  </ul>
  <ul>
    <ul>
      <li> <a href="#WorkingWithParameters">Working with Parameters</a></li>
    </ul>
  </ul>
  <ul>
    <ul>
      <li> <a href="#WorkingWithKnobPanel">Using the Knob Panel</a></li>
    </ul>
  </ul>
  <li> <a href="#UserInterfaceReference">User Interface Reference</a></li>
  <ul>
    <li> <a href="#MainWindowMenu">Main Window Menu Item Descriptions</a></li>
    <li><a
 href="file:///view/seth/vobs/apps/pet/doc/pet.html#PetMenuItems">Device
Page Menu Item Descriptions for ADOs<br>
      </a></li>
    <li> <a href="#DevicePageMenu">Device Page Menu Item Descriptions
for SLDs/CLDs<br>
      </a></li>
  </ul>
  <li> <a href="#FAQ">Frequently Asked Questions</a></li>
  <li> <a href="#Glossary">Glossary of Terms</a></li>
</ul>
<hr>
<h2> <a name="Introduction"></a>Introduction</h2>
pet (Parameter Editing Tool) is a general purpose program for viewing
and editing devices - that is, ADOs, SLDs, CLDs, MetaDevices, and
Parameters. Groups of devices have been pre-packaged into Device Lists,
which can be selected from a tree of device lists called the Machine
Tree. Once a device list is selected, the devices within it and their
associated control points can be viewed and edited.&nbsp; These lists
(along with the layout of the screen for ADO style pages) are defined in
a pet file that usually has a .pet as the file extension.&nbsp; See <a
 href="#petFile">ADO pet File</a> for a description of the syntax for
creating ADO style pages.&nbsp; SLD/CLD style pages are more structured
and the syntax for these files is fixed (a list of devices - one per
line).<br>
<p>pet has a long history within the RHIC controls system. &nbsp; Until
the summer of 2003 pet served purely RHIC style devices (ado's).&nbsp;
There existed a separate program (SpreadSheet) that was responsible for
AGS devices in the control system.&nbsp; SpreadSheet began as a
character-based program on VAX systems in the early 80's.&nbsp; It moved
to Apollo workstations in the late 80's and was improved many times
through the early 90's. In 1995, the program was converted to run under
a more generic UNIX environment using X Windows. In 1997, the program
was converted to run natively on SUN workstations. The current version
of pet can be displayed on any X Windows based machine and can handle
any type of device in the control system, incorporating all of the
features of the old SpreadSheet application.<br>
</p>
<p><a href="#TableOfContents">Back to Table of Contents</a> </p>
<h2> <a name="ReleaseInformation"></a>Release Information<br>
</h2>
<b>&nbsp;&nbsp; &nbsp;&nbsp; &nbsp; January 12, 2001 (Ted D'Ottavio)</b>
<ul>
  <li> added ability to create a pet page on the fly using the standard
device selection tools</li>
  <li>added ability to create a pet page of RHIC power supplies on the
fly using the standard PS selection tools</li>
  <li> added a Save As option to pet page File menu that allows one to
save a newly created pet page as a pet file or to change the name of an
existing file</li>
  <li> enhanced the default placement on the screen of newly created pet
windows</li>
</ul>
<b>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; April 24, 2000 (Bartosz Frak)</b>
<blockquote>1. Added support for GPM graphs, which are available under
the <b>Tools</b> section of the main menu. Selections include:
  <ul>
    <li> Strip Chart Graph - plots the selected data values against the
time.</li>
    <li> Correlation Graph - plots one or more parameters on the Y axis
vs. one of the parameters on the X Axis.</li>
    <li> Snapshot Chart - plots time instances of the selected
parameters vs. the time.</li>
    <li> Array Plot - plots indexed array values against other arrays or
vs. its index. (That is the original graph from the Pet)</li>
  </ul>
2. Merged changes implemented to support better async handling. Pet
will stop its async requests when the Page Window is in the iconified
state. In order to resume the communication user has to return the page
to its normal size/visibility.
  <p>3. User in now warned about opening any duplicate Pet Pages.</p>
</blockquote>
<b>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; January 26, 2000 (Ted
D'Ottavio)</b>
<ul>
  <li> rebuilt to take advantage of performance improvements in
communications tools</li>
  <li> bug fixes</li>
</ul>
<b>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; December 14, 1999 (Ted
D'Ottavio)</b>
<ul>
  <li> reworked to use new ADO communications tools which automatically
reconnect an application to a rebooted FEC or manager</li>
  <li> added new search popup, available from main window Options menu,
which allows the user to search thru all or part of the pet tree for a
string within the underlying pet files.&nbsp; This is useful when
looking for a particular ADO.&nbsp; This follows the SpreadSheet search
popup model.</li>
  <li> reworked the ADO description popup to allow a user to view and
edit an ADO description</li>
  <p><b>June 8, 1999</b> </p>
  <p>Release of May 7 commissioning version.  Graphics options now
available in released version of SpreadSheet. </p>
  <p><b>May 7, 1999</b> </p>
  <p>New version in commissioning corrects a bug in communications
libraries. </p>
  <p><b>April 27, 1999</b> </p>
  <p>New version in commissioning and in development release area. In
addition to graphics support ( see <a href="#GraphicsOptions">Graphics
Options</a> section of this document ), this version also includes some
software library changes that will be used in the future to support
'read only mode' and extensions to communications protocols. </p>
  <p><b>February 25, 1999</b> </p>
  <p>Release of January 8 version.  This new release should not affect
most users. You still need to run the commissioning version to get
graphics options. </p>
  <p><b>February 17, 1999</b> </p>
  <p>New commissioning version with graphics support.   Read the <a
 href="#GraphicsOptions">Graphics Options</a> section of this document. </p>
  <p><b>January 8, 1999</b> </p>
  <p>New commissioning version with improvements in Tandem knob panel
support. </p>
  <p><b>October 5, 1998</b> <br>
Released version. </p>
  <p>New features: </p>
  <blockquote>More accurate cld report representation in cld window
    <dl>
      <dl>
The report for clds that have no corresponding cpx (database layout
configuration for the cld report) entry will no longer default to the
database value of the maximum report size. The values for the size of
the report is sent with the report. This size will now be used for
determining the number of setpoints and readbacks to display in the cld
table. This will lead to better performance and display of clds.
      </dl>
    </dl>
-device_list switch
    <dl>
      <dl>
A user can now start SpreadSheet to display a single device list only
using the <b>-device_list</b>switch. The syntax is - <b><nobr>SpreadSheet
-device_list device_list_path_name</nobr></b>
        <p>For example, starting SpreadSheet as <b><nobr>SpreadSheet
-device_list Booster/Extraction/Bta</nobr></b> will cause a device list
window to be displayed with the devices found in the machine tree path
/operations/acop/Booster/Extraction/Bta. </p>
        <p>The user will be able to interact with the devices on the
device list, but will have no access to the machine tree that
SpreadSheet typically provides. The loading of archives is still
available. Exiting the device list will cause the application to be
terminated.</p>
      </dl>
    </dl>
Knob panel support - Tandem only
    <dl>
      <dl>
A user can now start SpreadSheet to make use of a knob panel. This will
make use of an sio line from the SUN to a knob panel that is used by
Tandem. The switch is <b>-knob</b>and should only be used on a machine
that has a knob panel present. A section explaining how the knob panel
will interact with SpreadSheet has been added to this document (see <nobr><a
 href="#WorkingWithKnobPanel">Using the Knob Panel</a>).</nobr>
      </dl>
    </dl>
Cld window creation errors
    <dl>
      <dl>
The user will now be presented with a more specific reason as to why a
cld window cannot be created. Possibilities could be no report from
station, a bad report from the station, etc.
      </dl>
    </dl>
Parameter errors when modifying setpoints
    <dl>
      <dl>
The user will now have a message displayed that the value was possibly
out of range and the old setpoint value restored if a value is sent down
that causes a problem with the parametric device. Note that this can
only be accomplished if the SpreadSheet sld (.CTL) of the parametric
device is on, causing the function to be sent down immediately on a
modification of one of the parameters.
      </dl>
    </dl>
Printing a device list
    <dl>
      <dl>
Printing of a page (visible or all) will now display the path to the
page at the top of the printout. This is the same path visible in the
title bar of the page.
      </dl>
    </dl>
Printing a cld window
    <dl>
      <dl>
The user can now print out the visible portion or the entire table of a
cld window. The user can select from the device list portion (top table)
or the cld table (bottom table). If the cld table is printed, the cld
name and path (if available) will be displayed on the printout.
      </dl>
    </dl>
Editing parameters
    <dl>
      <dl>
A problem editing parameters was encountered that allowed the current
parameter value read from the database to overwrite the cell being
edited. The edited cell will now block the value from being placed into
the edited cell.
      </dl>
    </dl>
  </blockquote>
Bug fixes:
  <blockquote>Focus problems - first cell highlighted
    <dl>
      <dl>
A problem gaining focus on cells was corrected. Device lists that were
reloaded were loaded properly, but the first time load of a device list
could encounter problems.
        <p>Setting the current cell when a page was loaded (or
reloaded) was also impacted by a bug introduced when the cld buffer was
added to the page. Cld setpoints that had '***' displayed could gain
focus, which caused the cell to be highlighted. The correct cell will
now be highlighted.</p>
      </dl>
    </dl>
Editing any setpoint cell
    <dl>
      <dl>
The value restored for an edited setpoint cell that was not accepted
was the value in the cell prior to the editing. A change has been
implemented to allow the value received in the last report to be
restored, which is a more accurate representation of the current value
of the setpoint cell.
      </dl>
    </dl>
  </blockquote>
Other info:
  <blockquote>
    <dl>
      <dl>
The application now makes use of the cns (Controls Name Server) when
loading device lists and cld windows. If the cns is not running, the
application will continually attempt to reconnect to the cns when
loading device lists and cld windows. If the application appears to be
slower than usual when loading device lists, the state of the cns should
be confirmed via StartUp. If the cns is not running, it should be
restarted.
      </dl>
    </dl>
  </blockquote>
  <b>July 9, 1998</b>
  <blockquote>Release. The following bug fixes were made:
    <p>A user can now load an all user ppm window successfully from a
cld window. The application will no longer crash. </p>
    <p>A user can no longer attempt to create an all user ppm window
from an existing all user ppm window. This used to crash the
application. </p>
    <p>The cld window will now automatically send down the setpoints
for auto-send cld windows. A bug was found that allowed factor
modifications to be sent down automatically, but not setpoint
modifications. This will now work correctly.</p>
  </blockquote>
  <b>March 13, 1998</b>
  <blockquote>Release. This version provides the following
enhancements:
    <p>Cld support for buffers has now been implemented. Clds appearing
on device pages will be stored in the buffer in a manner similar to
slds. The buffer contents will be filled in for clds as well as slds.
The string '***' is used to indicate that setpoints are held in the
buffer for clds. In order to view the setpoints of the cld buffer,
simply press the 3rd mouse button (right button). Pressing the 2nd mouse
button (middle button) will send the cld buffer. </p>
    <p>Results of loading the buffer and sending the buffer are now
maintained and may be viewed. A simple first pass before sending the
buffer to ensure devices have data will be made. Any device with missing
data will cause a warning to be displayed, prior to the send (if doing a
global send buffer). </p>
    <p>The following logic inconsistencies were corrected: </p>
    <p>Many inconsistencies on loading the buffer were corrected.
Buffers are now filled in properly and locked when switching PPM users. </p>
    <p>The following bug fixes were made: </p>
    <p>When loading an archive into a device list, if an sld appeared
multiple times, only the first occurrence would have a value filled in
from the archive. All occurrences of the device will now have the
archive filled value in. </p>
    <p>When loading the buffer initially during the load of a page, a
race condition could occur that would cause the table buffer values to
be compared incorrectly (the values would be equivalent, but colored
yellow). The buffer will now be equivalent (with no yellow color
displayed). </p>
    <p>When loading the buffer from an archive, a loadArchiveWindow is
displayed. If the window was displayed when the page window (device list
window) was closed, the application would crash. This problem has now
been corrected.</p>
  </blockquote>
  <b>November 25, 1997</b>
  <blockquote>Commissioning version. This version corrects the
following bugs:
    <p>After a send buffer, a message would appear indicating the
buffer was successfully sent. Improper memory addressing could result
due to the message being sent to be displayed, causing the application
to crash. </p>
    <p>The cld command could not be sent, only setpoints could be
changed. This was an oversight of the AgsPage (device list stand-alone
and top of a CldWindow). The command can now be sent if and only if a
report was received that contains setpoints for the cld. Please note:
the cld buffer is ignored at the present time. The buffer specifications
for a cld are being investigated. </p>
    <p>An error on loading a device list in a new window would cause a
blank space to be placed in the window list (bottom of main SpreadSheet
window). Selecting the blank space would cause a device list window to
be displayed with no devices. On an error creating the new window (e.g.
no devices in list), the window will no longer be created, and the blank
space will not appear in the list. </p>
    <p>A crash was caused during the sending of an sld command. This
was caused by improper message handling by the AgsPage table. The table
will now handle its own UIMessage event properly. </p>
    <p>An enhancement was made that will now allow the CldWindow to
display messages from the AgsPage portion of the window. This will be
useful when sending commands.</p>
  </blockquote>
  <b>October 20, 1997</b>
  <blockquote>New version released. This version corrects the following
bugs:
    <p>Selection of a command for a device would cause the application
to crash occasionally, after a device page was reloaded. This was a
problem in the table and has been corrected. </p>
    <p>The table used to select device lists would scroll and display a
blank screen on rare instances. This was due to a problem with the table
resizing. This was noticed mostly at Tandem and has been fixed. </p>
    <p>The parameters would not fill in with data that should have been
obtained from the database. The phenomenon occurred on the first attempt
to get data only. This only occurred if the database had not yet been
accessed by other methods in the application (e.g. parameters would fill
in immediately if a device description were first requested). A problem
in the database communication tools was corrected to address this.</p>
  </blockquote>
  <b>September 26, 1997</b>
  <blockquote>New version released. This version corrects the loading
of cld archives, caused by improper archive formats that were saved. A
problem loading archives from the default database (caused by improper
default connection) was corrected. Archive headers are now obtained from
the Sybase database, and no longer from the Archive database server
(this was an oversight that was caught and corrected quickly).
    <p>An enhancement was also made that now centers any cld window
popups over the cld window, rather than placing the popup over the
SpreadSheet main window. </p>
    <p>A more informative message is provided to the user on a cld load
archive failure. The failure may be due to improper reading of the file
(e.g. the file doesn't exist), or the file may be read properly and the
cld device archive information is not contained within the archive.</p>
  </blockquote>
  <b>September 17, 1997</b>
  <blockquote>New version released. This version provides new archive
support for CLDs. The archive headers are obtained from a SYBASE
database. Archives that are selected from the database are now stored by
run. The user can select the desired run (HIP/HEP YR) from which the
archives are desired. CLD nudge values are now stored in the database as
well.</blockquote>
  <b>March 31, 1997</b>
  <blockquote>New version in program commissioning. This version
provides table-type support for CLDs. A new generic interface allows
virtually all CLDs that have setpoints and measurements to be viewed.
Tuned interface windows for certain CLDs (BTA and FEB CLDs that were
handled by mini-apps, as well as timeline CLD support) have also been
provided. Attempts are made to get continuous reports from requested
CLDs although hardware does not allow this in some cases.
    <p>This version also corrects a bug on device lists that had
parameters. The continual updates would stop after 1 minute.</p>
  </blockquote>
  <b>December 2, 1996</b>
  <blockquote>Allows longer lists of archives to be displayed. For some
device lists, this version is needed to provide access to old STORE
archives.</blockquote>
  <b>October 30, 1996</b>
  <blockquote>Event names in datacon device descriptions will now be
correct.</blockquote>
  <b>July 31, 1996</b>
  <blockquote>Continuous CLD reports are not requested by SpreadSheet.</blockquote>
  <b>March 5, 1996</b>
  <blockquote>Soft faults for devices on INTEL stations are now
supported using information in the ddf.</blockquote>
  <a href="#TableOfContents">Back to Table of Contents</a>
  <h2> <a name="StartingTheProgram"></a>Starting the Program</h2>
pet can be started from the StartUp program. Its entry exists under the
General Programs section.
  <p>From the command line, the released version of pet can be started
by typing: </p>
  <pre>&nbsp;&nbsp;&nbsp; /usr/controls/bin/pet</pre>
Possible command line arguments are:
  <center>
  <table border="1" cellpadding="4">
    <tbody>
      <tr>
        <th>Argument&nbsp;</th>
        <th>Type&nbsp;</th>
        <th>Default&nbsp;</th>
        <th>Description&nbsp;</th>
      </tr>
      <tr>
        <td>-host&nbsp;</td>
        <td>string&nbsp;</td>
        <td align="center">none&nbsp;</td>
        <td>preferred relway host&nbsp;</td>
      </tr>
      <tr>
        <td>-db_server</td>
        <td>string&nbsp;</td>
        <td align="center">none&nbsp;</td>
        <td>preferred database server&nbsp;</td>
      </tr>
      <tr>
        <td>-root&nbsp;</td>
        <td>string&nbsp;</td>
        <td align="center">none&nbsp;</td>
        <td>location of machine tree&nbsp;</td>
      </tr>
      <tr>
        <td>-ddf&nbsp;</td>
        <td>string&nbsp;</td>
        <td align="center">none&nbsp;</td>
        <td>preferred ddf to load&nbsp;</td>
      </tr>
      <tr>
        <td>-help&nbsp;</td>
        <td>switch&nbsp;</td>
        <td><br>
        </td>
        <td>prints out lists of arguments&nbsp;</td>
      </tr>
      <tr>
        <td style="vertical-align: top;">-single<br>
        </td>
        <td style="vertical-align: top;">string<br>
        </td>
        <td style="vertical-align: top; text-align: center;">none<br>
        </td>
        <td style="vertical-align: top;">open page without the main
window<br>
        </td>
      </tr>
      <tr>
        <td style="vertical-align: top;">-knob<br>
        </td>
        <td style="vertical-align: top;">string<br>
        </td>
        <td style="vertical-align: top; text-align: center;">none<br>
        </td>
        <td style="vertical-align: top;">used for knob control<br>
        </td>
      </tr>
      <tr>
        <td style="vertical-align: top;"><br>
        </td>
        <td style="vertical-align: top;"><br>
        </td>
        <td style="vertical-align: top;"><br>
        </td>
        <td style="vertical-align: top;"><br>
        </td>
      </tr>
    </tbody>
  </table>
  </center>
  <a href="#TableOfContents">Back to Table of Contents</a>
  <h2> <a name="SECTION1"></a>The Main Window</h2>
pet has a main window which is used to set or retrieve information that
is global to the program. It is also used to spawn child (device page)
windows which contain devices from a selected device list. There is only
one main window, but there can be many device pages.
  <p><img src="MainWindow.gif" align="right"> The main window has four
areas. From top to bottom these are: </p>
  <ul>
    <li> A menubar and pulldown menu system for making menu selections.</li>
    <li> A machine tree selector for traversing the machine tree and
making device list selections.</li>
    <li> A list of open device or CLD pages and their associated PPM
user number.</li>
    <li> A message area.</li>
  </ul>
For information on the pulldown menu items, see the section titled <a
 href="#MainWindowMenu">Main Window Menu Item Descriptions</a>.
  <p>For information on using the machine tree selector, see the
section titled <a href="#SelectingADeviceList">Selecting a Device List</a>
below. </p>
  <p>For information on using the device pages list, see the section
titled <a href="#UsingMultipleDevicePages">Using Multiple Device Pages</a>
below. </p>
  <h4> <a name="GettingHelp"></a>Getting Help</h4>
A Help menu on the right side of the menubar in the main window is used
to read various help sources pertaining to pet. From this menu you can
read program overview and release information, operations notes and
version information.
  <p>Context-sensitive help is available on most menu items and on many
user-interface items using the right mouse button. Press and hold this
button over the item of interest to view the help text. Release the
button when done. </p>
  <p><a href="#TableOfContents">Back to Table of Contents</a> </p>
  <h4> <a name="SelectingADeviceList"></a>Selecting a Device List</h4>
The machine tree selector on the main window is used to make device
list selections. This selector allows you to view and traverse the
machine tree. Initially, the top level of the machine tree (Ags,
Booster, etc.) is displayed. Clicking on one of the items causes that
section to expand one level.
  <p>The column of arrows on the left indicates the expansion states of
the associated sections of the tree. If an item has a left-facing arrow,
it means that this section has a sublevel that is not currently being
viewed. If there is a down-facing arrow, the sublevel is being
displayed. If no arrow exists, then there is no sublevel for that item.
That is, this node is a leaf node. Clicking on an arrow causes that
section to expand or contract depending on whether the arrow is pointing
left or down. </p>
  <p>Leaf nodes are the ones that contain displayable lists of devices.
The purpose of the machine tree selector is to allow you the capability
to move through the machine tree to a leaf node of interest. Selecting
the leaf node will then cause the device list to be displayed in a
Device Page - a separate window which displays the devices and allows
you to edit them. The leaf name for the device list and the PPM user
number will then appear in the Device Pages list below the machine tree
selector. </p>
  <p>Selecting a leaf node from the machine tree selector with the left
mouse button causes the last used device page to have its devices
replaced with the devices in the newly selected list. If there are no
device pages, then a new one will be created. Clicking on the leaf node
with the middle mouse button will also cause a new device page to be
created. </p>
  <p>Selection from the machine tree can also be made from the
keyboard. The machine tree has been modified specifically for this
purpose. Each set of possible selections from a particular section of
the machine tree has been modified so that each possible choice has a
unique first uppercase character. Selecting this letter on the keyboard
will select that entry. </p>
  <p>For example, at the top level of the machine tree we see Ags,
Booster, Controllers, Linac, Other, SEB, and Tandem. The first uppercase
character in each of these items (A B C L O S T) is unique. Pressing one
of these characters will select the associated item in the selector.
Pressing L, for example, is like clicking on Linac. The Linac section
then expands showing its set of possibilities (Instrumentation,
Location, etc.). Each one of these entries has a unique first uppercase
character. You can press one of these characters and continue your way
through the tree. So, for example, pressing LIT from the top level of
the machine tree is like selecting Linac -&gt; Instrumentation -&gt;
beam_Transformers. </p>
  <p>Note that you must hit the RETURN key to replace the current
device page. Hitting the F1 key, instead, causes a new device page to be
created. </p>
  <p>Some other items of note about selecting device lists: </p>
  <ul>
    <li> You can go from one part of the machine tree to any other
visible part of the tree by clicking on the section you are interested
in.</li>
    <li> In a few, seldom-used cases, there is no uppercase character to
select. In these cases, you can use the up or down arrows on the
keyboard to get to the item of interest.</li>
    <li> Choosing the Find menu option from the Page menu causes the
machine tree to revert back to its initial state with just the top-level
items showing. A keyboard accelerator (Ctrl + F), can also be used for
this purpose.</li>
  </ul>
  <a href="#TableOfContents">Back to Table of Contents</a>
  <h4> <a name="UsingMultipleDevicePages"></a>Using Multiple Device
Pages</h4>
Many device pages can be displayed and active simultaneously. Their
leaf names and PPM user numbers will all be listed in the Device Pages
list on the main window. One of the pages in this list always shows up
selected. It is the current device page.
  <p>You can make a device page the current one by either clicking on
the window with the mouse or by clicking on its entry in the device
pages list. The path through the machine tree for the current device
page is always displayed in the machine tree selector. </p>
  <p>Selecting Close from the Page menu on the main window will close
the selected device page. Selecting Close All... will cause all device
pages to be closed after a confirmation. Closing a device page using
either of the Close menu items on the device page will also cause it to
be deleted from the Device Pages list. </p>
  <p>Choosing Hide from the Page menu takes the device page off the
screen, but keeps its image in memory. It can be shown again by clicking
on the name in the device page list. </p>
  <p>The device pages are initially displayed next to the main window
either on the top or bottom of the screen depending on the location of
the current device page. Once on the screen, they behave like any other
window and can be moved or resized as desired. </p>
  <p>A device page window cannot be iconified independently. It can,
however, be taken off the screen by choosing Hide from the Page menu.
The main window and all device page windows are iconified together into
a single icon labeled control using the icon button on the main window. </p>
  <p><a href="#TableOfContents">Back to Table of Contents</a> </p>
  <h4> <a name="SettingAPpmUser"></a>Setting a PPM User</h4>
The main window is used to set the default PPM user for the program.
This default determines the PPM user for newly created device pages, but
it does not affect existing device pages. To set the default PPM user,
choose Default PPM User from the Setup menu on the main window. The
default PPM user is displayed on the main window just below the menubar.
 <p>Each device page can have a different PPM user. To change the PPM
user for a particular device page, choose Set PPM User from the Page
menu. This will cause the page to reload, displaying information for the
selected PPM user. The PPM user for a device page is displayed in the
window's title area. </p>
  <p>The devices on a device page are color-coded to reflect their PPM
user. A device which appears in black is a non-PPM device. PPM devices
appear using the following colors: </p>
  <blockquote>PPM User 1 - green <br>
PPM User 2 - magenta <br>
PPM User 3 - brown <br>
PPM User 4 - blue <br>
PPM User 5 - orange <br>
PPM User 6 - cyan <br>
PPM User 7 - purple <br>
PPM User 8 - gray</blockquote>
  <blockquote>Non-PPM Users - black</blockquote>
  <a href="#TableOfContents">Back to Table of Contents</a>
  <h2> <a name="TheDevicePageWindow"></a>The Device Page Window</h2>
There are two types of device page windows that can be opened.&nbsp;
These are discussed below.&nbsp; The first is the ADO style window which
is used to display ADO devices and the other is the SLD/CLD style window
which is used to display SLDs and CLDs.&nbsp; It is at this point where
the merger of the old SpreadSheet program and the old pet program
ends.&nbsp; Each of these style windows can only display devices for
it's associated device type.&nbsp; The type of page that is opened is
automatically determined by the program.&nbsp; The user doesn't need to
be concerned with selecting a "correct" window type.&nbsp; Although
there is a difference in look between these two types of windows they
function and are used similarly.&nbsp; Read further for a more detailed
description.<br>
  <br>
</ul>
<h2 style="margin-left: 40px;"><a name="ADOStyle"></a>ADO Style Page</h2>
&nbsp;<br>
<div style="margin-left: 40px;"> Here is a picture pointing out the
different parts of an ado window that are described below. Click on the
various parts of the picture to go to the definitions.&nbsp;<map
 name="PetWindow.map">
<area shape="RECT" coords="0,75, 110,92" href="#AdoNameCell">
<area shape="RECT" coords="165,67, 251,82" href="#AdoNameCell">
<area shape="RECT" coords="0,155, 78,173" href="#BlankCell">
<area shape="RECT" coords="165,132, 249,154" href="#BlankCell">
<area shape="RECT" coords="0,200, 71,217" href="#TextCell">
<area shape="RECT" coords="250,170, 339,186" href="#TextCell">
<area shape="RECT" coords="0,281, 110,300" href="#ParameterCell">
<area shape="RECT" coords="339,271, 455,287" href="#ParameterCell">
<area shape="RECT" coords="0,346, 115,363" href="#CursorLocation">
<area shape="RECT" coords="190,382, 219,406" href="#CursorLocation">
<area shape="RECT" coords="0,372, 97,393" href="#CellActivity">
<area shape="RECT" coords="157,383, 187,406" href="#CellActivity">
<area shape="RECT" coords="0,407, 120,426" href="#CellDescription">
<area shape="RECT" coords="220,381, 374,406" href="#CellDescription">
<area shape="RECT" coords="0,439, 102,461" href="#PageActivity">
<area shape="RECT" coords="477,383, 503,406" href="#PageActivity">
<area shape="RECT" coords="540,33, 612,51" href="#PetMenuItems">
<area shape="RECT" coords="157,30, 510,58" href="#PetMenuItems">
<area shape="RECT" coords="550,176, 620,196" href="#PetTable">
<area shape="RECT" coords="161,60, 511,381" href="#PetTable">
<area shape="RECT" coords="537,381, 648,397" href="#PetInformationBar">
<area shape="RECT" coords="160,382, 509,406" href="#PetInformationBar">
<area shape="RECT" coords="535,421, 633,439" href="#PetMessageArea">
<area shape="RECT" coords="160,410, 511,465" href="#PetMessageArea">
</map>
</div>
<p style="margin-left: 40px;"><img src="PetWindow.gif"
 usemap="#PetWindow.map" height="474" width="650"> </p>
<h4 style="margin-left: 40px;"> <a name="PetTable"></a>ADO Table</h4>
<div style="margin-left: 40px;"> The look and content of the ado table
is defined by the pet file that is loaded. This is where the information
from the control system is displayed and changed. </div>
<h4 style="margin-left: 40px;"> <a name="AdoNameCell"></a>ADO Name Cell</h4>
<div style="margin-left: 40px;"> The ADO name cell is always in the
first column of the table. It displays the name of the ADO for that
line. This cell is never editable. Clicking mouse button 1 in this cell
moves the cursor to this cell. Mouse button 2 does nothing. Mouse button
3 brings up the ADO Configuration Parameters dialog box. Here is an
example: </div>
<center><img src="AdoPopup.gif"></center>
<h4 style="margin-left: 40px;"> <a name="ShowAllParamDescription"></a>Show
All Parameters</h4>
<div style="margin-left: 40px;"> This button (that appears on the ADO
configuration parameters popup window not shown above) allows the user
to open a new pet page that contains all parameters for the given ado
instance name. </div>
<h4 style="margin-left: 40px;"> <a name="BlankCell"></a>Blank Cell</h4>
<div style="margin-left: 40px;"> A blank cell is just that. There is
pretty much nothing you can do with this type of cell. </div>
<h4 style="margin-left: 40px;"> <a name="TextCell"></a>Text Cell</h4>
<div style="margin-left: 40px;"> A text cell displays some static text.
Like the blank cell, it is not useful for anything else. </div>
<h4 style="margin-left: 40px;"> <a name="ParameterCell"></a>Parameter
Cell</h4>
<div style="margin-left: 40px;"> Parameter cells have all of the good
stuff. They are used to display and set control system parameters. Here
are a few things that can be done to a Parameter cell. </div>
<ul>
  <li> Change cell's edibility by using the <b>Format</b> menu options.</li>
  <li> Type values into the cell.</li>
  <li> Apply filters to asynchronous data reports for a cell using
options in the <b>Data</b> menu. The <b>Apply Filter to Table...</b>
option brings up a popup for selecting the type of asynchronous data
filter to apply to all parameters in the pet table. The <b>Apply Filter
to Cell...</b> menu item brings up a popup window for selecting a filter
for the currently selected cell:</li>
  <center><img src="FilterPopup.gif"></center>
  <li> Mouse Button actions:</li>
  <ol>
    <li> Move Cursor to this cell, select menu, or Execute a command
depending on the type of parameter cell.</li>
    <li> Send down the changed value.</li>
    <li> Bring up the Parameter Support Properties dialog box. An
example follows. The first section shows parameter properties, the
second displays parameter meta data, and last section indicates what
asynchronous data filter, if any, is currently applied to the parameter.</li>
  </ol>
</ul>
<center><img src="ParamPopup.gif"></center>
<p style="margin-left: 40px;">Parameter cells are immediately sent to
the ADO when a value is entered.&nbsp; The only exception is for button
cells.&nbsp; These turn yellow and await a confirmation by either double
clicking the button or middle clicking. <br>
</p>
<h3 style="margin-left: 40px;"> <a name="PetInformationBar"></a>Pet
Information Bar</h3>
<div style="margin-left: 40px;"> The information bar displays cell
information and network activity. </div>
<h4 style="margin-left: 40px;"> <a name="CellActivity"></a>Cell Activity</h4>
<div style="margin-left: 40px;"> The cell activity icon displays a
running dog that changes whenever async data is received for the
parameter of the currently highlighted cell. </div>
<h4 style="margin-left: 40px;"> <a name="CursorLocation"></a>Cursor
Location</h4>
<div style="margin-left: 40px;"> This area displays the table
coordinates (row, column) of the current cell. </div>
<h4 style="margin-left: 40px;"> <a name="CellDescription"></a>Cell
Description</h4>
<div style="margin-left: 40px;"> This area displays the type of the
current cell. For parameter cells, it displays the
"Ado:parameter:property". </div>
<h4 style="margin-left: 40px;"> <a name="NudgeDescription"></a>Nudge
Description</h4>
<div style="margin-left: 40px;"> This area allows the user to nudge the
currently active cell either up or down by the given amount that is
shown in the nudge box. The nudge box is active only for numeric,
scalar, continuous settings. The user can nudge a value by either
clicking on the up or down arrow or by clicking either the left (nudge
down) or right (nudge up) mouse button over the nudge amount. To change
the amount to be nudged click on the middle mouse button over the nudge
amount. When a setting is nudged, the new value is automatically made
active if the currently selected cell is in the main window.&nbsp; If
the cell being nudged is a buffer cell, only the buffer value will
change and confirmation will be required to send the value to the
ADO.&nbsp; A changed nudge value can be stored (with the ADO) by
selecting the Data-&gt;Save Nudge Cell or Data-&gt;Save Nudge Page menu
item. Nudge values can then be restored to their current setting the
next time the page is loaded/reloaded rather then the value that it had
when the page was initially opened. This option is applicable for only
those parameters which support this property. </div>
<h4 style="margin-left: 40px;"> <a name="PageActivity"></a>Page Activity</h4>
<div style="margin-left: 40px;"> This area displays the number of async
data replies received for the whole page. The number can be reset to 0
by clicking mouse button 1 in this area. </div>
<h3 style="margin-left: 40px;"> <a name="PetMessageArea"></a>ADO Page
Message Area</h3>
<div style="margin-left: 40px;"> Messages and error are written here.
Pressing mouse button 3 in this area will bring up a menu that operates
on this area. </div>
<p> </p>
<hr width="100%">
<h3 style="margin-left: 40px;"> <a name="PetGraph"></a>Pet Graph</h3>
<div style="margin-left: 40px;"> Pet supports now GPM plotting tools, to
which access is located under the Tools menu item. Pressing Ctrl+G or
selecting <b>Tools-&gt;New</b> Graph item will bring up a Graph
Selection Dialog (see screenshot below), where the user is presented
with four graph style options: </div>
<blockquote> <li> Strip Chart Graph - plots the selected data values
against the time.</li>
  <li> Correlation Graph - plots one or more parameters on the Y axis
vs. one of the parameters on the X Axis.</li>
  <li> Snapshot Chart - plots time instances of the selected parameters
vs. the time.</li>
  <li> Array Plot - plots indexed array values against other arrays or
vs. its index. (That is the original graph from the Pet)</li>
</blockquote>
<div style="margin-left: 40px;"><img src="PetGraph.gif" height="568"
 width="372"> </div>
<div style="margin-left: 40px;">Parameters in lists <i>Y Axis</i> and <i>X
Axis</i> are filtered and show all of the plottable parameters on that
particular Pet Page. Selecting one of the valid cells on the page and
then pressing either the <i>Add to Y Axis</i> or <i>Add to X Axis</i>
button will add the selected item's name to the respective selection
list. Only plottable parameters can be selected, therefore selecting an
Array Plot option and trying to add a scalar value to the <i>Y</i> or <i>X
Axis</i> list will not work. If all of the desired parameters have been
selected, pressing the <i>Apply</i> or <i>OK</i> button will display
show the graph window (Note: if there is no new data incoming for all of
the selected parameters, the graph area will not update until a fresh
data value is available to plot). For more info on the GPM plots please
see the <a href="http://www.cadops.bnl.gov/Controls/doc/Gpm/Gpm4.0.html">online
GPM manual.</a></div>
<p> </p>
<h3 style="margin-left: 40px;"> <a name="BufferTable"></a>Buffer Table</h3>
<div style="margin-left: 40px;"> The buffer table is a duplicate of the
'ado table'.&nbsp; The buffer table, when made visible (by selecting
'Buffer/Show'), will display a replicated pet ado table.&nbsp; The
buffer table does not have the same functionality as the main ado
table.&nbsp; The buffer table is loaded with initial values when the
page is first loaded.&nbsp; The buffer table may then be reloaded, at
any time, with the current values in the main ado table ('Buffer/Load
from Current') or loaded from an archive (see <a
 href="#LoadAnArchiveIntoTheBuffer">Load an archive into the buffer</a>
section below).&nbsp; The values in the buffer table may be sent to the
pet table by selecting the values with the middle mouse button, or by
using the 'Buffer/Send' menu option (see <a href="#SendTheBuffer">Send
the buffer</a> section below).&nbsp; The cells in the buffer table may be
edited. <br>
</div>
<div style="margin-left: 40px;"> The cells in the buffer table will
display in special colors if the values are different from the
corresponding values in the pet table.&nbsp; For settings that are
different, the buffer cell will be colored in a yellow background with
red text (of course, if the cell is displayed as the current cell, it
will be displayed in reverse video).&nbsp; For measurements that are
different, the buffer cell will be colored with a blue background and
black text.&nbsp; (At this point, no special coloring is done for cells
that already have colors associated with them.&nbsp; If this becomes
necessary, please contact a member of the Controls' Group to indicate
that the buffer cell coloring is not sufficient for all cases.)&nbsp;
The buffer area allows the user to modify multiple cells before applying
the changes to hardware.&nbsp; Values can be sent to hardware one at a
time with a middle click over the cell or all at once through the buffer
menu option "send edited values".&nbsp; Changes to the buffer data that
have not been sent can be undone by selecting one of the undo options
from the Buffer menu.<br>
</div>
<h3 style="margin-left: 40px;"> <a name="SaveAnArchive"></a>Save an
archive</h3>
<div style="margin-left: 40px;"> This option provides a mechanism for a
user to make an archive (store settings and measurements) of the devices
on this page.&nbsp; The user may save an archive by selecting the
'File/Save Archive...' menu option.&nbsp; The save/restore tools are
used to store the settings and measurements on the page.&nbsp; A user is
prompted with a name for which to save the archive.&nbsp; At present,
every archive made MUST have a unique name provided.&nbsp; If an
existing name is used, the user will be prompted with the options of
overwrite the existing archive (which will cause it to be deleted and no
longer available) or entering a new name.&nbsp;&nbsp; The user also has
the option of entering comments to be stored with the archive. <br>
</div>
&nbsp;
<h3 style="margin-left: 40px;"> <a name="LoadAnArchiveIntoTheBuffer"></a>Load
an archive into the buffer</h3>
<div style="margin-left: 40px;"> The user may load an archive into the
buffer by selecting the 'Buffer/Load from Archive...' option.&nbsp; The
user will be presented with a list of archives that have been stored for
the pet page they are currently accessing.&nbsp; The user may load the
archive into the buffer by selecting the OK button(which will cause the
window to disappear after the buffer is loaded), or by selecting the
Apply button (or double-clicking on the name of the archive to
load).&nbsp; Selecting the Close button will cause the window to be
closed. <br>
</div>
&nbsp;
<h3 style="margin-left: 40px;"> <a name="SendTheBuffer"></a>Send the
buffer</h3>
<div style="margin-left: 40px;"> This option provides a mechanism for a
user to send the buffer values.&nbsp; The user will have the option of
sending the buffer values from the buffer to the pet ado table (table
with values to be sent down on the left), or to send the values to the
pet ado table and have the values immediately sent down to
hardware.&nbsp; The user makes their selection by selecting the desired
button option ('Send from buffer to pet ado table', 'Send directly to
hardware') when prompted.<br>
<br>
<h2> <a name="petFile"></a>ADO page File Format</h2>
Pet is controlled by loading a file that defines the look of the
screen. The pet ado file contains two sections, the parameter section
and the attribute section. The parameter section defines what parameters
pet can control, and the attribute section changes the appearance of
these parameters.
<h2> <a name="param"></a>Parameter Section</h2>
The Parameter Section consists of a description of all of the items
that will appear in each cell of the pet ado table. Every line in the
file corresponds to one row in the pet ado table. Every comma separated
item on a line in the file corresponds to one cell within that row of
the table. The following items are understood as cell designations:
<ol>
  <li> the name of an ADO (must be in the first column).</li>
  <li> the name of a Parameter or Parameter:Property.</li>
  <li> if the parameter is an array Parameter[index] is also legal.</li>
  <li> a string in double quotes.</li>
</ol>
Other general statements about the Parameter Section:
<ol>
  <li> If the first line of a file is "!USECPP" then the file is sent
through cpp before pet reads it.</li>
  <li> An empty line appears as a blank row in the table unless
"!USECPP" was specified, then blank lines are ignored.</li>
  <li> A line starting with "!BLANK" appears as a blank line in the
table.</li>
  <li> Extra spaces are allowed before or after commas.</li>
  <li> If the first character on a line is either a "#" or a "!" the
line is considered a comment. Problems can occur if "#" is used as a
comment character and "!USECPP" is the first line of the pet file.</li>
  <li> A quoted string appears as a center justified label in the
designated cell of the table. Its foreground color is labelForeground
and its background color is labelBackground. (See <a href="#attrib">Attributes</a>
below)</li>
</ol>
Each line in the parameter section starts with the name of an ADO,
followed by a list of parameters separated by commas. This appears in
the table as a row, with the name of the ADO in the first column, and
the parameters or properties associated with that ADO appearing in the
other cells of the row in the order in which they are listed in the
file. Property names should appear as parameter:property (see example
below).
<p>If an ADO name is NOT followed by a list of parameters, the
parameter list is acquired by searching the following sources. The first
source found is used to generate the list. </p>
<ol>
  <li> the cell Template attribute</li>
  <li> If the ADO on the previous line is of the same class, its list of
properties and attributes are used</li>
  <li> the default template for this ADO class</li>
  <li> all of the settings and measurements for this ADO are used</li>
</ol>
<h3> <a name="paramExamples"></a>Parameter Examples</h3>
<pre>! ADO Page for Wave Form Generator<br>! Items in quotes are titles for parameters<br>"ADO", "Ctrl PS", "Meas", "Units", "Polarity"<br>PS22_1, ctrlPowerSupply, ctrlState, ctrlState:units, setPolarity<br>PS0_1<br>PS1_1<br><br>, "Table", "Index", "Upload Sz", "Load Sz"<br>TableSN2_A, setWhichTable, setTableIndex, uploadSize, loadSize<br>! Scoreboard commented out because it is currently not working<br>! , "Scoreboard", "F Values", "G Values", "H Values"<br>!scoreboardSN2B, intscoreboard, fValues, gValues, hValues<br>!<br>, "Clk Ticks", "Clock", "Send Event", "Calc G&amp;H"<br>wfgTestSN2B, setClockTicks, resetClock, sendEvent, calcGandH</pre>
<a href="#TableOfContents">Back to Table of Contents</a>
<h2> <a name="attrib"></a>Attributes</h2>
The Attribute Section allows the page designer to alter the default
look and feel of the displayed page. An Attribute Section can appear
either before or after the Parameter Section. If there is more than one
attribute section, only the first one is used.
<p>When the table is created, each cell is formatted to have certain
defaults which correspond to the value that is to be displayed in the
cell. A list of some of these defaults for the different types of cells
is shown below.
<table border="1">
  <caption>Table 1</caption> <tbody>
    <tr>
      <th>Cell Type</th>
      <th>Look</th>
      <th>Editable</th>
      <th>Justify</th>
      <th>Width</th>
    </tr>
    <tr align="center">
      <td>ADO Name</td>
      <td>column</td>
      <td>no</td>
      <td>left</td>
      <td>dynamic</td>
    </tr>
    <tr align="center">
      <td>Discrete Setting</td>
      <td>button</td>
      <td>no (1)</td>
      <td>center</td>
      <td>dynamic</td>
    </tr>
    <tr align="center">
      <td>Discrete Measurement</td>
      <td>label</td>
      <td>no</td>
      <td>center</td>
      <td>dynamic</td>
    </tr>
    <tr align="center">
      <td>Continuous Setting</td>
      <td>text</td>
      <td>yes</td>
      <td>right</td>
      <td>8 or 16 (2)</td>
    </tr>
    <tr align="center">
      <td>Continuous Measurement</td>
      <td>label</td>
      <td>no</td>
      <td>right</td>
      <td>8 or 16</td>
    </tr>
    <tr align="center">
      <td>Action (3)</td>
      <td>button</td>
      <td>no</td>
      <td>center</td>
      <td>dynamic</td>
    </tr>
    <tr align="center">
      <td>Support Property</td>
      <td>label</td>
      <td>no</td>
      <td>right</td>
      <td>8 or 16</td>
    </tr>
    <tr align="center">
      <td>Quoted String</td>
      <td>blank</td>
      <td>no</td>
      <td>center</td>
      <td>dynamic</td>
    </tr>
    <tr>
      <td colspan="5">
      <ol>
        <li> Cell is not directly editable, but setting is editable via
a pop down menu.</li>
        <li> Array values have their cell width default to 16
characters. All other continuous values default to 8 characters.</li>
        <li> An Action is a Discrete Setting with one legal value or a
Discrete Setting of void data type. The latter is preferred.</li>
      </ol>
      </td>
    </tr>
  </tbody>
</table>
The user can override these defaults and others using the Attribute
Section of the pet file. The following rules should be adhered to when
creating the Attribute Section: </p>
<ol>
  <li> Start the section with the line <b>BEGIN ATTRIBUTES</b>.</li>
  <li> End the section with the line <b>END ATTRIBUTES</b>.</li>
  <li> Each attribute should contain three parts:</li>
  <br>
cell(s) designation, resource, and value. <li> Cell designations should
look like <b>RnCm</b> where n is a number from 0 to the last row, and m
is a number from 0 to the last column. A value of <b>R0Cm</b> means that
the attribute applies to all cells in column m. A value of <b>RnC0</b>
means that the attribute applies to all cells in row n. A value of <b>R0C0</b>
means that the attribute applies to all cells in the table.</li>
  <li> Resource names and value types should be selected from the list
shown below.</li>
  <li> A valid attribute should look like <b>RnCm.Resource: Value</b>
Example: <b>R0C3.width: 10</b> sets the width of column 3 to 10
characters.</li>
</ol>
<h3> <a name="availableAttrib"></a>Available Attributes</h3>
<table border="1">
  <caption>Table 2</caption> <tbody>
    <tr>
      <th>Resource</th>
      <th>For(1)</th>
      <th>Value</th>
      <th>Default</th>
      <th>Description</th>
    </tr>
    <tr>
      <td>foreground</td>
      <td>T,R,C,L</td>
      <td>string</td>
      <td>black</td>
      <td>foreground(text) color</td>
    </tr>
    <tr>
      <td>fg</td>
      <td>T,R,C,L</td>
      <td>string</td>
      <td>black</td>
      <td>foreground(text) color</td>
    </tr>
    <tr>
      <td>background</td>
      <td>T,R,C,L</td>
      <td>string</td>
      <td>gray82</td>
      <td>background color</td>
    </tr>
    <tr>
      <td>bg</td>
      <td>T,R,C,L</td>
      <td>string</td>
      <td>gray82</td>
      <td>background color</td>
    </tr>
    <tr>
      <td>visibleRows</td>
      <td>T</td>
      <td>integer</td>
      <td>dynamic</td>
      <td>number of visible rows</td>
    </tr>
    <tr>
      <td>visibleColumns</td>
      <td>T</td>
      <td>integer</td>
      <td>dynamic</td>
      <td>number of visible columns</td>
    </tr>
    <tr>
      <td>startRow</td>
      <td>T</td>
      <td>integer</td>
      <td>dynamic</td>
      <td>first row visible</td>
    </tr>
    <tr>
      <td>startColumn</td>
      <td>T</td>
      <td>integer</td>
      <td>dynamic</td>
      <td>first column visible</td>
    </tr>
    <tr>
      <td>editable</td>
      <td>T,R,C,L</td>
      <td>true/false</td>
      <td>dynamic</td>
      <td>allows cell values to be changed</td>
    </tr>
    <tr>
      <td>showTitles</td>
      <td>T</td>
      <td>true/false</td>
      <td>dynamic</td>
      <td>show the set of column titles</td>
    </tr>
    <tr>
      <td>showFooters</td>
      <td>T</td>
      <td>true/false</td>
      <td>false</td>
      <td>show the set of column footers</td>
    </tr>
    <tr>
      <td>look</td>
      <td>T,R,C,L</td>
      <td>string</td>
      <td>(2)</td>
      <td>dynamic border and 3D look of cells</td>
    </tr>
    <tr>
      <td>font</td>
      <td>T,R</td>
      <td>string</td>
      <td>(3)</td>
      <td>font used to display text/numbers</td>
    </tr>
    <tr>
      <td>labelForeground</td>
      <td>T</td>
      <td>string</td>
      <td>Blue</td>
      <td>foreground color for quoted text</td>
    </tr>
    <tr>
      <td>labelFg</td>
      <td>T</td>
      <td>string</td>
      <td>Blue</td>
      <td>foreground color for quoted text</td>
    </tr>
    <tr>
      <td>labelBackground</td>
      <td>T</td>
      <td>string</td>
      <td>gray82</td>
      <td>background color for quoted text</td>
    </tr>
    <tr>
      <td>labelBg</td>
      <td>T</td>
      <td>string</td>
      <td>gray82</td>
      <td>background color for quoted text</td>
    </tr>
    <tr>
      <td>notSentForeground</td>
      <td>T</td>
      <td>string</td>
      <td>brown</td>
      <td>fg color if changed value not sent</td>
    </tr>
    <tr>
      <td>notSentFg</td>
      <td>T</td>
      <td>string</td>
      <td>brown</td>
      <td>fg color if changed value not sent</td>
    </tr>
    <tr>
      <td>notSentBackground</td>
      <td>T</td>
      <td>string</td>
      <td>yellow</td>
      <td>bg color if changed value not sent</td>
    </tr>
    <tr>
      <td>notSentBg</td>
      <td>T</td>
      <td>string</td>
      <td>yellow</td>
      <td>bg color if changed value not sent</td>
    </tr>
    <tr>
      <td>width</td>
      <td>C</td>
      <td>integer</td>
      <td>dynamic</td>
      <td>the width in characters</td>
    </tr>
    <tr>
      <td>title</td>
      <td>C</td>
      <td>string</td>
      <td>""</td>
      <td>string to display in column title</td>
    </tr>
    <tr>
      <td>footer</td>
      <td>C</td>
      <td>string</td>
      <td>""</td>
      <td>string to display in column footer</td>
    </tr>
    <tr>
      <td>justify</td>
      <td>C,R,L</td>
      <td>string</td>
      <td>(4)</td>
      <td>dynamic justification in cell</td>
    </tr>
    <tr>
      <td>helpText</td>
      <td>C</td>
      <td>string</td>
      <td>""</td>
      <td>help display w/ 3rd button on title</td>
    </tr>
    <tr>
      <td>lock</td>
      <td>C</td>
      <td>true/false</td>
      <td>false</td>
      <td>lock column so it doesn't scroll</td>
    </tr>
    <tr>
      <td>titleForeground</td>
      <td>C</td>
      <td>string</td>
      <td>(5)</td>
      <td>foreground color for column title</td>
    </tr>
    <tr>
      <td>titleFg</td>
      <td>C</td>
      <td>string</td>
      <td>(5)</td>
      <td>foreground color for column title</td>
    </tr>
    <tr>
      <td>titleBackground</td>
      <td>C</td>
      <td>string</td>
      <td>(5)</td>
      <td>background color for column title</td>
    </tr>
    <tr>
      <td>titleBg</td>
      <td>C</td>
      <td>string</td>
      <td>(5)</td>
      <td>background color for column title</td>
    </tr>
    <tr>
      <td>footerForeground</td>
      <td>C</td>
      <td>string</td>
      <td>(5)</td>
      <td>foreground color for column footer</td>
    </tr>
    <tr>
      <td>footerBackground</td>
      <td>C</td>
      <td>string</td>
      <td>(5)</td>
      <td>background color for column footer</td>
    </tr>
    <tr>
      <td>footerBg</td>
      <td>C</td>
      <td>string</td>
      <td>(5)</td>
      <td>background color for column footer</td>
    </tr>
    <tr>
      <td>formatString</td>
      <td>C,L</td>
      <td>string</td>
      <td>%g</td>
      <td>C(printf)-style string for numbers</td>
    </tr>
    <tr>
      <td>min</td>
      <td>C,L</td>
      <td>float</td>
      <td>float min</td>
      <td>minimum value for number cells</td>
    </tr>
    <tr>
      <td>max</td>
      <td>C,L</td>
      <td>float</td>
      <td>float max</td>
      <td>maximum value for number cells</td>
    </tr>
    <tr>
      <td>string</td>
      <td>C</td>
      <td>string</td>
      <td>""</td>
      <td>a text string to display in cell</td>
    </tr>
    <tr>
      <td>filter</td>
      <td>T,C,R,L</td>
      <td>string</td>
      <td>(6)</td>
      <td>filter type</td>
    </tr>
    <tr>
      <td>filterArg</td>
      <td>T,C,R,L</td>
      <td>float</td>
      <td>(6)</td>
      <td>filter value</td>
    </tr>
    <tr>
      <td>petPageHelp</td>
      <td>T</td>
      <td>string</td>
      <td>none</td>
      <td>location of the pet help html</td>
    </tr>
    <tr>
      <td style="vertical-align: top;">menuConfirm<br>
      </td>
      <td style="vertical-align: top;">L<br>
      </td>
      <td style="vertical-align: top;">true/false<br>
      </td>
      <td style="vertical-align: top;">false<br>
      </td>
      <td style="vertical-align: top;">force confirmation of menu cells<br>
      </td>
    </tr>
    <tr>
      <td colspan="5">
      <ol>
        <li> T = Table, R = Row, C = Column, L = Cell</li>
        <li> a string with the following possible values (case
insensitive):</li>
        <br>
text - editable cell&nbsp; <br>
button - pushbutton cell&nbsp; <br>
label -non editable cell&nbsp; <br>
blank -blank cell with no border&nbsp; <br>
column -column cell with border only on right&nbsp; <br>
row - row cell with border only on bottom&nbsp; <li>
-misc-fixed-medium-r-normal--20-140-100-100-c-100-iso8859-1</li>
        <li> a string with three possible values (case insensitive):
left, center, right</li>
        <li> reverse video: titleForeground = background,
titleBackground = foreground</li>
        <li> The filter types can be <b>skipFactor</b>, <b>minInterval</b>,<b>minChange</b>,
or <b>outOfTol</b>. All filters except "outOfTol" must also have the
filterArg attribute set. There are no default values for these filters.</li>
      </ol>
      </td>
    </tr>
  </tbody>
</table>
Notes:
<ol>
  <li> values of true or false can be entered in any case</li>
  <li> font and color strings are case sensitive</li>
  <li> resource names are case sensitive</li>
  <li> strings for color values can be found in /usr/lib/X11/rgb.txt</li>
</ol>
<h3> <a name="attribExamples"></a>Attribute Examples</h3>
<pre>BEGIN ATTRIBUTES<br>! change the table foreground and background colors<br>R0C0.foreground: firebrick<br>R0C0.background: white<br>! change the foreground color for quoted text<br>R0C0.labelForeground: DarkGreen<br>! change the color for an individual cell<br>R3C4.foreground: cyan<br>R3C4.background: gray50<br>! change the size of the table<br>R0C0.visibleRows: 6<br>R0C0.visibleColumns: 5<br>! make a particular cell editable<br>R3C3.editable: true<br>! change the font for the table<br>R0C0.font: 9x15bold<br>! change the width of column 4<br>R0C4.width: 5<br>! force a cell to display in 3 decimal places<br>R6C4.formatString: %.3f<br>! set limits in what can be entered into a cell<br>R5C3.min: 0<br>R5C3.max: 200<br>! here's another way to put a string in a cell<br>R4C5.string: BPM Gain<br>END ATTRIBUTES</pre>
<a href="#TableOfContents">Back to Table of Contents</a>
<p> </p>
<hr width="100%">
<h2> <a name="mixed"></a>Parameters &amp; Attribute Mixed</h2>
Attributes can be specified in line with the parameters. The format of
a parameter with attributes takes this form:
<blockquote>adoName, param1;attr1:val1;attr2:val2, param2</blockquote>
The attributes <b>attr1:val1</b> and <b>attr2:val2</b> are applied to
the cell containing param1 in this example. The attribute can be applied
to the row, column or table by adding a prefix and a decimal point to
the attribute name. The prefixes are:
<ul>
  <li> R=row</li>
  <li> C=column</li>
  <li> T=table</li>
  <li> cell is the default</li>
</ul>
For example if you wanted the above param1 to be applied to the whole
row and, param2 to be applied to the whole table, it would look like
this:
<blockquote>adoName, param1;R.attr1:val1;T.attr2:val2, param2</blockquote>
Here is a review of the symbols used.
<ul>
  <li> comma - starts a new parameter definition (new cell)</li>
  <li> semicolon - starts a new attribute definition</li>
  <li> colon - separates the attribute from the attribute's value</li>
  <li> period - separates the prefix from the attribute tag</li>
</ul>
White space between any of the elements is ignored. In line attributes
and the attribute section can both be used in the same file. Duplicate
definitions override pervious definitions. As with attributes in the
attribute section cell definitions have the following order of
preference from highest to lowest.
<ul>
cell -&gt; row -&gt; column -&gt; table
</ul>
If one attribute is defined twice the second definition overrides the
first.
<h3> <a name="mixedExamples"></a>Mixed Examples</h3>
Here is a screen snapshot of a pet window and the pet file that created
it. Note that the C preprocessor is used here also.
<p><img src="pet1.gif" style="height: 598px; width: 556px;" title=""
 alt=""> </p>
<pre>!USECPP<br>! flag pet to use the c preprocessor (needs to be the first line)<br>! normal line<br>simple.test, "menuM", menuM<br>! change the back ground of a cell<br>simple.test, "longM";bg:green, longM<br>! change background and foreground<br>simple.test, "doubleM", doubleM; bg:green; fg:red<br>! change bg of a whole row<br>simple.test;R.bg:green, "longArrayM", longArrayM<br>! add a blank line (normal blank lines are ignored when using CPP)<br>!BLANK<br>! this is a trick to get a blank line with attributes<br>;R.bg:green<br>!BLANK<br>!<br>! use the c preprocessor to define a variable<br>#define ADO simple.test<br>!<br>! use the new variable<br>ADO, "commandC", commandC<br>ADO, "menuS", menuS<br>ADO, "ucharS", ucharS<br>simple.test, "charS", charS<br>simple.test, "longS", longS<br>simple.test, "floatS", floatS<br>simple.test, "doubleS", doubleS;formatString:%.3g<br>simple.test, "stringS", stringS<br>simple.test, "longArrayS", longArrayS<br>!BLANK<br>simple.test, "varArrayS", varArrayS<br>! you can still use an attribute section<br>BEGIN ATTRIBUTES<br>R8C1.bg:green<br>END ATTRIBUTES</pre>
<a href="#TableOfContents">Back to Table of Contents</a></div>
<h2 style="margin-left: 40px;"><a name="SLDPages"></a>SLD/CLD Style Page<br>
</h2>
<ul>
Each device page allows the user to view and/or edit the devices from a
single device list. The window contains a menubuar and pulldown menu
system at the top, a table containing information for the devices in the
device list, and a message area at the bottom.
  <center><img src="DeviceWindowBSLC.gif"></center>
For information on the pulldown menu items, see the section titled <a
 href="#DevicePageMenu">Device Page Menu Item Descriptions</a>.
  <p>Information on using the device table is contained in many
sections below. </p>
  <h4> <a name="ViewingDevices"></a>Viewing Devices</h4>
When a device page is created, continuous reports are requested from
the stations connected to the devices. If everything is operating
correctly, these reports are received and displayed at least every AGS
cycle (about 3 secs). For PPM devices with more than one active user,
more than one report will be received each AGS cycle.
  <p>The device information received is displayed in the device table
area on the device page window. The device table displays the following
information when the page is in <b>Operational Mode</b>: </p>
  <blockquote>
    <dl>
      <dt> <b>Device Name</b> - the name of the SLD, CLD, MetaDevice or
Parameter.</dt>
      <p><br>
Non-PPM device names appear in black. PPM device names appear in a
color determined by the device pages PPM user number (see <a
 href="#SettingAPpmUser">Setting a PPM User</a> above). </p>
      <p>Clicking on the device name with the right mouse button brings
up a popup which displays information about the device. The description
is editable (see <a href="#EditingDevices">Editing Devices</a> below).
You can leave this popup up and click on a different device name to view
the description for another device on this page. </p>
      <p>For cld devices, clicking on the device name with the middle
mouse button will cause a cld editing window to be displayed. (An
attempt will be made at creating a cld window. A report must be received
for the attempt to be successful.) See <a href="#WorkingWithClds">Working
with CLDs</a> for more information. </p>
      <dt> <b>Indicator</b> - the status of a device report.</dt>
      <dl>
        <dt> It has the following values:</dt>
        <table cellpadding="3">
          <tbody>
            <tr>
              <td valign="top">#&nbsp;</td>
              <td>Good report was received. It is the first report
received with its AGS cycle number. The color cycles depending on
whether the cycle number is odd or even. The first report received is
colored black.&nbsp;</td>
            </tr>
            <tr>
              <td valign="top">+&nbsp;</td>
              <td>Good report was received. It is not the first report
received with its cycle number. This will occur for non-PPM devices when
more than one PPM user is active.&nbsp;</td>
            </tr>
            <tr>
              <td valign="top">C&nbsp;</td>
              <td>Report came in, but the controller data is missing.
Usually this means that the station is working, but the device
controller is not.&nbsp;</td>
            </tr>
            <tr>
              <td valign="top">B&nbsp;</td>
              <td>Report came in, but it is in an unknown format.&nbsp;</td>
            </tr>
            <tr>
              <td valign="top">Blank&nbsp;</td>
              <td>No reports have come in for this device.&nbsp;</td>
            </tr>
          </tbody>
        </table>
      </dl>
      <dt> <b>Measmnt</b> - the device measurement.</dt>
      <p><br>
If the device has a true measurement, the cell is filled in with the
measurement value obtained from the station. If there is no measurement,
but there is a setpoint, the cell is filled in with the setpoint
readback from the controller. If there is neither a measurement or a
setpoint, the cell appears blank. </p>
      <p>If the device has a measurement, the value received is checked
against the tolerance limits for the device. If the measurement value is
outside of these limits, there is a range error. If the measurement is
being watched for errors by the station, this value will appear in red
on pet. If it is not being watched, it will appear gold. As a special
case, if no tolerance values have been set up for the device, and the
device is not being watched, the measurement appears in its normal black
color. The tolerance limits are determined as follows from the device
tolerance information stored in the database and from the current
setpoint value: </p>
      <blockquote>max = setpoint + setpoint * tolerance +
tolerance_offset <br>
min = setpoint - setpoint * tolerance - tolerance_offset</blockquote>
For cld devices, if a report is received that has a measurement for the
cld, the string '***' will be displayed. The user may view the
measurements by clicking on the device name with the middle mouse
button, or by clicking on the '***' with the middle mouse button. <dt> <b>Units</b>
- the units for the device stored in the database.</dt>
      <dt> <b>Setpt</b> - the device setpoint.</dt>
      <p><br>
If the device has a setpoint, the cell is filled in with the setpoint
value obtained from the station. If the device does not have a setpoint,
the cell appears blank. </p>
      <p>See the section <a href="#EditingDevices">Editing Devices</a>
below for information on changing setpoints. </p>
      <p>For cld devices, if a report is received that has a setpoint
for the cld, the string '***' will be displayed. The user may view and
edit the setpoints clicking on the device name with the middle mouse
button, or by clicking on the '***' with the middle mouse button. A cld
editing window will be presented. For information on the cld editing
window, refer to <a
 href="http://www.cadops.bnl.gov/Controls/doc/cld/cld.html">The CLD
Interface</a>.</p>
      <dt> <b>Nudge</b> - the value used to increment or decrement the
setpoint.</dt>
      <p><br>
If the device has a setpoint, the initial value for the nudge comes
from the value in storage. If there is no value stored, 10 times the
least count value for the device is used. The least count for a device
is the minimum change in a device setpoint allowed by the device
hardware. </p>
      <p>See the section <a href="#EditingDevices">Editing Devices</a>
below for information on editing and saving nudge values. </p>
      <dt> <b>C1 thru C4</b> - commands 1 thru 4 for the device.</dt>
      <p><br>
If a command exists, its current value from the station appears in
black in a cell that looks like a pushbutton. If no command exists, the
cell appear blank with the exception noted below. </p>
      <p>In some cases, a command can have an associated status. For
example, a power supply might have a command with two possible states,
ON or OFF. If this command has an associated status, the command and
status values should agree. If they don't, a status error condition
exists. Another way a status can be in error is if the status is a
"normal" status, but it is not in a normal state. That is, it should
show NOR, but it is not. When a status is in error for a device, and
there are blank command cells, those cells are used to display those
statuses. This is done to alert the user that an error condition exists
without forcing the user to scroll the table to see the statuses. These
error statuses appear in red or gold in empty command cells on a
non-raised background. </p>
      <p>See the section <a href="#EditingDevices">Editing Devices</a>
below for information on editing commands. </p>
      <dt> <b>Buffer</b> - a storage area for device setpoints.</dt>
      <p><br>
If the device has a setpoint, this cell is filled in with the value
obtained from the initial report from the device. If the buffer cell has
a normal background color, the buffer and setpoint values agree. If the
background color is different (by default, gold), then the values
disagree. </p>
      <p>For cld devices, if a report is received that has a setpoint
for the cld, the values will be held in the buffer and the string '***'
will be displayed. The user may send the cld buffer by clicking on the
'***' using the middle mouse button. The user may view the setpoints and
buffer by clicking on the '***' using the third mouse button (right
button). Clicking the third mouse button on a second cld with the
setpoint/buffer display already visible will cause the display to be
reloaded with the newly selected cld's setpoint/buffer values. </p>
      <p>See the section <a href="#UsingTheBuffer">Using the Buffer</a>
for further information on the buffer. </p>
      <dt> <b>BC1 thru BC3</b> - a storage area for device commands.</dt>
      <p><br>
If the device has commands, one or more of these cells are filled in
with the values obtained from the initial report from the device. If the
buffer cell has a normal background color, the buffer and command values
agree. If the background color is different (by default, gold), then the
values disagree. </p>
      <p>See the section <a href="#UsingTheBuffer">Using the Buffer</a>
for further information on the buffer. </p>
      <dt> <b>S1 thru S16</b> - statuses 1 thru 16 for the device.</dt>
      <p><br>
If a status exists, its current value from the station appears in one
of the status columns. If the status indicates an error condition and it
is being watched by the station, it appears in red. If the status is in
error and it is not being watched, it appears in gold. Otherwise it
appears in black. </p>
      <p>An error condition can exist for a status in one of two ways.
In some cases, a command can have an associated status. For example, a
power supply might have a command with two possible states, ON or OFF.
If this command has an associated status, the command and status values
should agree. If they don't, a status error condition exists. Another
way a status can be in error is if the status is a "normal" status, but
it is not in a normal state. That is, it should show NOR, but it is not.</p>
    </dl>
  </blockquote>
In <b>Engineering Mode</b>, the following additional columns appear:
(Columns marked with an * can be displayed in engineering or device
units.)
  <blockquote>
    <dl>
      <dt> <b>Setpt</b>(*) - the device setpoint</dt>
      <p><br>
The setpoint for the device, if there is one. This value always comes
from the station. </p>
      <dt> <b>Expected</b>(*) - measurement expected for setpoint</dt>
      <p><br>
Based on the preceding Setpt column, this value shows the measurement
value that would be expected for the displayed setpoint. </p>
      <dt> <b>Units</b> (*) - engineering or device units</dt>
      <p><br>
When the radio button in the Diagnostics menu indicates Device Units,
this column displays CNTS for each device with a setpoint or
measurement. This indicates device units, which in almost all cases is
counts. When Engineering units is selected, this column shows the
engineering units for the devices. </p>
      <dt> <b>Tol Low</b> (*) - low tolerance limits for measurements</dt>
      <p><br>
For devices with measurements, this value, which is based on the device
tolerance percent and tolerance offset, determines the lower limit for
measurements. Below this limit, measurements are considered out of
tolerance and appear in red. </p>
      <dt> <b>Tol High</b> (*) - high tolerance limits for measurements</dt>
      <p><br>
For devices with measurements, this value, which is based on the device
tolerance percent and tolerance offset, determines the upper limit for
measurements. Above this limit, measurements are considered out of
tolerance and appear in red. </p>
      <dt> <b>Sp Rdbk</b> (*) - the setpoint readback</dt>
      <p><br>
For devices with setpoints, this is the setpoint value as read back
from the device controller. </p>
      <dt> <b>Measmnt</b> (*) - the measurement value</dt>
      <p><br>
The same as the measurement in column 3 except that this value can be
toggled from device to enginering units. </p>
      <dt> <b>CR1 thru CR8</b> - command readbacks 1 thru 8</dt>
      <p><br>
These are the command values that have been read back from the device
controller. </p>
      <dt> <b>Stn Db</b> - station database number</dt>
      <p><br>
This is the number that has been attached to the station database as
received in the latest device report. </p>
      <dt> <b>Cycle</b> - AGS cycle number</dt>
      <p><br>
The AGS cycle number for the latest report received. </p>
      <dt> <b>Reps</b> - reports for cycle</dt>
      <p><br>
The number of reports received for the current AGS cycle. </p>
      <dt> <b>Time</b> - scan time</dt>
      <p><br>
The time in the AGS cycle that the controller was scanned by the
station.</p>
    </dl>
  </blockquote>
  <a href="#TableOfContents">Back to Table of Contents</a>
  <h4> <a name="EditingDevices"></a>Editing Devices</h4>
This section discusses methods for directly editing SLD setpoints, SLD
&amp; CLD commands, and device descriptions. Setpoints and commands can
also be edited using device nudging and buffer manipulation. For
information on these methods, see the sections titled <a href="#Nudging">Nudging</a>
and <a href="#UsingTheBuffer">Using the Buffer</a> below.
  <p>Setpoints are edited using a three step process: </p>
  <blockquote>
    <dl>
      <dt> <b>1. Highlight the setpoint cell.</b></dt>
      <dd> This is done either by clicking on it using the 1st mouse
button or by using the keyboard arrow keys to make it the highlighted
cell.</dd>
      <dt> <b>2. Edit the value.</b></dt>
      <dd> Once the cell is highlighted, begin typing the new value.
There is no need to erase the previous value. You can enter the new
value using either the standard keyboard or the numeric keypad. Once you
begin entering a value, the cell color will change. This indicates that
a new value exists in this cell, but it has not yet been sent.</dd>
      <dt> <b>3. Send the value.</b></dt>
      <dd> This can be done either by pressing the RETURN or ENTER key
on the keyboard or by clicking the middle mouse button on the cell. A
message will then appear in the message area confirming that the new
value was sent.</dd>
    </dl>
  </blockquote>
Commands can be edited using either the mouse or the keyboard. To edit
commands using the mouse, click on the command cell with the 1st mouse
button. A menu of possible commands will then appear under the command
cell. Click on the command that you wish to send. This causes the
selected command to be displayed AND the command to be sent to hardware.
If you decide not to select a new command, move the cursor out of the
command menu and release the button. To re-send a command, click on it
with the middle mouse button.
  <p>To edit the description for a device, click on the device name
with the right mouse button. This will cause the device information
popup to appear. Alternate ways to make this popup appear are to
highlight the device, then choose Description from the Device menu or
type Ctrl + D from the keyboard. Once the popup appears, edit the device
description, then click on the Save button to store the new description.
If you click the Revert button, the description is re-read from the
device database. This description field word wraps, so there is no need
to hit the RETURN key. You are limited to 256 characters. If you attempt
to enter more than that, the system will beep each time you hit a key. </p>
  <center><img src="DeviceDesc.gif"></center>
  <h4> <a name="Nudging"></a>Nudging (Increment/Decrement)</h4>
Nudging is a method whereby the user slowly increases or decreases the
setpoint by a fixed amount (the nudge value) using the mouse or the
keyboard. This method has also been referred to as knobbing or
increment/decrement.
  <p>Each device page contains a special column labeled Nudge. The
nudge cell for each device holds the amount that the setpoint will be
moved up or down when the user increments or decrements it. When the
device page first appears, the initial values for the nudge cells are
taken from those in storage for the devices on that page. If a value is
not stored, ten times the least count value is used instead. The least
count for a device is the minimum change in a device setpoint allowed by
the device hardware. </p>
  <p>There are a few ways to nudge a setpoint. The most common is to
click the 1st mouse button on the nudge cell to decrement the setpoint
value, and the 3rd mouse button to increment the value. A second way is
to highlight the setpoint cell that you wish to nudge, then press the F1
key to decrement and the F2 key to increment its value. A third way is
to choose Decrement or Increment from the Setpoint menu. </p>
  <p>To edit a nudge value, click on the nudge value with the middle
mouse button or select Edit... from the Nudge menu. A popup will appear
allowing you to edit the value. To make ALL the nudge values on this
device page the same value, choose Edit All... from the Nudge menu and
enter a new value into the popup that appears. </p>
  <p><a href="#TableOfContents">Back to Table of Contents</a> </p>
  <h4> <a name="UsingTheBuffer"></a>Using the Buffer</h4>
The buffer is initially loaded from the first device reports that are
received for the devices on the device page. After that, the contents of
the buffer is under user control. Reports are no longer placed in the
buffer if any of the following occur: a) any menu option loading the
buffer is used, e.g. load from current, load from temp, or load from
archive, or b) the pages ppm user is modified. Once these menu options
are selected, the buffer is considered locked, and will no longer be
loaded automatically with the first report. The user may reload the
buffer from the last received report by doing an explicit load from
current.
  <p>There are a number of ways to edit the buffer contents. First, the
buffer columns can be directly edited. That is, you can edit the
setpoint (slds only) and command cells in the buffer in the same way
that you would edit the real setpoint and command cells on the device
page. Note, however, that edited buffer values are not sent to hardware
until you explicitly send it. </p>
  <p>To send the buffer to hardware (setpoint and commands) for an
individual device, click on the buffer setpoint cell with the middle
mouse button or choose Send Device from the Buffer menu. To send the
buffer to hardware for all devices on the device page, choose Send...
from the Buffer menu or type Ctrl + S. You will see a confirmation popup
before the buffer contents are sent. </p>
  <p>To get a fresh buffer, choose Load from Current from the Buffer
menu. This copies the contents of the real setpoint and command columns
to the appropriate buffer columns, making them equivalent. The
background color for all buffer cells should clear to the standard
background color for the device page. </p>
  <p>To load the buffer from an archive file, choose Load from Archive
from the buffer menu. A popup will then appear showing a list of all
archives that exist for the current device page. Select the desired
archive from the list, then choose the Apply or OK button. The Apply
button loads the buffer, but leaves the list up, allowing you to make
other selections. The OK button loads the buffer and closes the popup.
The Close button closes the popup without loading the buffer. A
double-click on the archive name is the same as selecting it, then
clicking the Apply button. </p>
  <center><img src="ArchiveWindow.gif"></center>
  <p>The device page allows you to store a special archive file called
Temp. There is only one Temp file in the entire system for each device
list. A Temp file is typically stored when you have some settings that
you wish to store temporarily. You should not depend on this file being
there because it will be overwritten by the next user that saves Temp
for this device page. </p>
  <p>Choosing Save Temp. File from the Buffer menu, or typing Ctrl + T,
causes the Temp file to be written from the setpoints and commands shown
on the device page. </p>
  <p>To load the buffer from the current Temp file, choose Load from
Temp from the buffer menu. To make these settings the current hardware
settings, you must then send the buffer by choosing Send... from the
Buffer menu. </p>
  <p>After loading or sending the buffer, a user will receive a message
in the message area about the status of the load or send. The user may
view the results of the load or send by selecting the menu options 'View
Load Buffer Results...' and 'View Send Buffer Results...' from the
Buffer menu. If any devices fail to be loaded, or encounter a problem
during the send of the buffer, the user can view this information by
using these menu options. </p>
  <p>Before the send of the buffer, a warning will be presented to the
user that contains all devices that have no setpoint and/or commands to
send to the device (where a setpoint or command is expected). The user
will then have the option of continuing with the send of the buffer, or
cancelling the operation. </p>
  <p><a href="#TableOfContents">Back to Table of Contents</a> <br>
&nbsp; </p>
  <h4> <a name="GraphicsOptions"></a>Graphics Options</h4>
Graphics options are newly available in pet ( in commissioning version
of 2/17/99 ).&nbsp;&nbsp; The Graphics menu on each device page includes
the options listed below.&nbsp;&nbsp; The graphs are produced using the
Monitor tools that are used in the new release of Gpm4.0.&nbsp;&nbsp;
Read the <a href="http:/Controls/doc/Gpm/Gpm.html">Gpm documentation</a>
for a fuller description of the Monitors.&nbsp;&nbsp; To use these
options, first select a device on the pet page.&nbsp; Then click on the
menu option to create or add this device to the desired type of graph. 
  <ul>
    <li> <b>New StripChart</b></li>
    <li> <b>Add to StripChart</b></li>
  </ul>
  <ul>
    <li> <b>New Snapshot Graph</b></li>
    <li> <b>Add to Snapshot Graph</b></li>
  </ul>
  <ul>
    <li> <b>New Correlation Graph</b></li>
    <li> <b>Add to Correlation Graph</b></li>
  </ul>
  <h4> Strip Charts</h4>
The Y axis in a strip chart represents the SLD measurement or setpoint
value.&nbsp;&nbsp; If a selected device has both a measurement and a
setpoint, both will be included on the strip chart.&nbsp;&nbsp; The X
axis is AGS cycle number by default but may be changed to time of
day.&nbsp;&nbsp; The Edit Monitor option in the graph Setup menu lets
you adjust this and other options.&nbsp;&nbsp; If you add a CLD&nbsp;to
a strip chart, the average of all the values in the CLD&nbsp;array will
be plotted.
  <h4> Snapshot Graphs</h4>
Snapshot graphs are especially good for CLD&nbsp;array
data.&nbsp;&nbsp; The Y axis of the graph represents the value of each
array element.&nbsp; The X axis by default represents array
index.&nbsp;&nbsp; The full display updates when new data
arrives.&nbsp;&nbsp; SLD&nbsp;values may also be added to a Snapshot
graph.&nbsp;&nbsp; The values from a number of SLDs are connected to
make one data set on the graph.&nbsp;&nbsp; If a selected device has
both a measurement and a setpoint, only its measurement is added to the
Snapshot graph.
  <h4> Correlation Graphs</h4>
Correlation graphs can plot mutiple parameters along the Y axis versus
one parameter along the X&nbsp;axis.&nbsp;&nbsp; If a device has both a
measurement and a setpoint, its measurement is plotted on the Y axis
versus the setpoint on the X&nbsp;axis.&nbsp;&nbsp; If the first device
you select has only a setpoint or only a measurement, that quantity will
become the X axis variable for the correlation graph.&nbsp; You will
need to make an additional selection for the Y axis.&nbsp; The Edit
Monitor option in the graph Setup menu lets you adjust the X axis cell
designation as well as other options. <br>
&nbsp;
  <h2> <a name="WorkingWithClds"></a>Working with CLDs</h2>
CLDs are the Accelerator Controls Group's complex logical devices
(referred to hereafter as CLD). The CLDs of the complex are used to
control many of the accelerator devices.
  <p>From a pet page, you can set CLD settings and commands by choosing
CLDs... from the Options menu on the main window. </p>
  <center><img src="CLDWindow.gif" align="middle"></center>
  <p>A second method for viewing/editing CLD information is by clicking
on the name of a CLD on a Device Page using the middle mouse button.
CLDs that are good candidates for viewing measurements and
viewing/editing setpoints typically have asterisks in the measurement or
setpoint columns, indicating that measurements or setpoints exist for
the CLD (clicking on the asterisks using the middle mouse button will
also make a new CLDWindow). A new CLDWindow will present the
measurements and/or setpoints to the user for a CLD. Commands for the
CLD may be edited in a device list that accompanies the CLD setpoints,
and statuses may be viewed as well. </p>
  <p>To edit CLD events on the AGS or Booster time lines, choose Set
CLD Events... (note that selecting these by controller will bring up the
same editing tool) from the Options menu on the main window. The
advantage to using Set CLD Events... is that only time-line controllers
will be presented in the list. Select a time line to work with, and then
select a device on that time line. A CLDWindow will appear for the user
to enter times and/or modify commands. </p>
  <p>For additional information about CLDs, please refer to <a
 href="http://www.cadops.bnl.gov/Controls/doc/cld/cld.html">The CLD
Interface</a>. </p>
  <p><a href="#TableOfContents">Back to Table of Contents</a> </p>
  <h2> <a name="WorkingWithMetaDevices"></a>Working with Meta Devices</h2>
Meta devices are special devices which can control many other devices
(SLDs, CLDs, or Parameters). How these devices are linked is stored in
the database. Each metadevice has a name and an associated function,
which it applies to each of its meta member devices.
  <p>From pet you can send a nudge value to the meta device function,
causing each of the meta member devices to be changed. A meta device on
a device page is indicated by the string "Meta" in the Units column for
the device. It is common for a device list to be set up so that the
member devices appear below the associated meta device. </p>
  <p>To increment or decrement a meta device, enter the desired nudge
value in the nudge cell for the meta device by clicking on the nudge
cell with the middle mouse button and entering the value. Then, use the
first mouse button to decrement and the 3rd mouse button to increment
the value. After a short delay, you should see the values for the
associated member devices update. </p>
  <p>The Setpoint cell for the metadevice accumulates the
increments/decrements that were made on the nudge field. This, along
with the buffer values for the devices that are controlled, is an
indication of how far you have moved the metadevice since the device
page first appeared. The Buffer cell holds the starting accumulation (0)
and can be used to reset the metadevice back to its initial setting by
sending the buffer for the metadevice. This parallels the use of the
buffer for SLDs. </p>
  <p>Clicking on the meta device name with the right mouse button
brings up the Meta Device Editor. This editor allows you to view or
modify the definition of the meta device. It also allows you to test the
changes you have made to the meta device. For further information on the
Meta Device Editor, choose Show Help Document from the Help menu in the
editor window. </p>
  <center><img src="MetaDevice.gif"></center>
  <p><a href="#TableOfContents">Back to Table of Contents</a> </p>
  <h2> <a name="WorkingWithParameters"></a>Working with Parameters</h2>
A parameter is similar to an SLD in that it contains a setpoint and one
or more command fields. However, it differs in a few important ways.
First, parameters are not stored in hardware like SLDs, they are stored
in the database. There are no controllers or stations associated with
parameters. Also, parameters do not have statuses.
  <p>Most parameters are associated with function generators and were
initially designed to create functions that would eventually be sent to
hardware. More recently, functions are created and edited with the
FunctionEditor or using function editor tools in application programs.
However, many of the older functions are still created using parameters.
This is still the primary use of parameters, but there is nothing
inherent in the parameter design that prevents them from being used for
other purposes. </p>
  <p>pet displays parameters in the same basic format as SLDs are
displayed. The setpoint and command fields look and behave the same as
for SLDs. Parameter data is retrieved from the database on a timer every
10 seconds. The indicator column # signs change with each update.
Editing parameters is done the same way as editing SLDs. Sending out a
new setpoint or command updates that field in the database and may send
down a function to hardware depending on the parameter and whether the
CTRL parameter is set to ON. </p>
  <p>Other functionality for parameters follows that for SLDs. Clicking
on the parameter name with the right mouse button causes a description
of the parameter to appear. All buffer functionality is operational for
parameters. The user can send one or more buffer rows, save/load from
temp, or load the buffer from an archive. Incrementing/Decrementing
parameters is also supported. </p>
  <p><a href="#TableOfContents">Back to Table of Contents</a> </p>
  <h2> <a name="WorkingWithKnobPanel"></a>Using the Knob Panel</h2>
A knob panel is a physical device attached through an sio line to a
computer used for the purpose of 'knobbing' (modifying) values for a
device through the use of a knob. The panel is presently used by Tandem
operations. pet uses the knob panel if and only if the pet application
is started with a '-knob' switch.
  <p>A user can 'knob' devices on a page if a knob file is found for
the device list. When the page is active (has focus), the knob number
will be placed in the indicator column and the user may knob the
setpoint. Once the page is made inactive, the knob panel is disabled. </p>
  <p>There may be two knob files present in the directory containing
the device list. If this is the case, the page menu will be modified to
allow the user to switch between the two knob files. If the primary knob
file (.knob) is found, it will be used by default. If only the seconday
knob file is found (.knob1), it will be used. </p>
  <p>A user may maintain multiple pages to be knobbed on the terminal
at one time. As the user switches between the pages, the user will be
able to determine, both through the knob panel LCD display, and the knob
numbers present in the indicator column, which page is currently
supported by the knob panel. </p>
  <p>As a user modifies the setpoint through the use of a knob, the
corresponding value on the page will be updated and the value will be
sent to the hardware for the device. As values are returned from the
station for the device, the knob panel display is updated as well. An
indication that a value is being knobbed will be that the setpoint cell
for the device being knobbed will be highlighted. </p>
  <p>The knob panel has a restore button for each device. Pushing the
restore button will cause the value displayed in the buffer column for
the device to be restored. </p>
  <p>The knob panel also provides slow and fast buttons for each
device. The slow and fast buttons are typically used to alter the
'sensitivity of the knob'. That is, using fast sensitivity modifies the
value a greater amount than using slow sensitivity for equal knob
movement. The fast button, however, has been overloaded to provide
another purpose. It can cause a knob to be 'tied' to another knob. This
will cause equivalent values to be sent to two devices when moving the
value of one knob. At present, this has to be memorized by the user for
each page, or the user will notice this at the time the knob is moved. </p>
  <p><a href="#TableOfContents">Back to Table of Contents</a> </p>
  <h2> <a name="UserInterfaceReference"></a>User Interface Reference</h2>
This section describes each menu item on the pet main window and on the
Device Pages. Other user interface descriptions have already been
provided in the sections above.
  <h4> <a name="MainWindowMenu"></a>Main Window Menu Item Descriptions</h4>
These descriptions are also available by pressing and holding the right
mouse button over the menu item.
  <dl>
    <dt> <b><u>File</u></b></dt>
    <dl>
      <dt> <b>New... </b></dt>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Make a new pet window and select a
file.<br>
      <dt><b>Open... </b></dt>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Open a file in the current pet
window.<dt><b>Default PPM User...</b></dt>
      <dd> Sets the default PPM user for this program. The default PPM
user is used as the PPM user for any new device lists that are
displayed. It does not affect existing device pages.</dd>
    </dl>
    <dd><br>
    </dd>
    <dl>
      <span style="font-weight: bold;">Create RHIC Page...<br>
      </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create a new pet page
from selected ADOs and parameters<br>
      <span style="font-weight: bold;">Create PS RHIC Page...<br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; </span>Create a new pet page from a
list of selected power supplies<br>
      <span style="font-weight: bold;">Create AGS Page...<br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; </span>Create a new pet page from
selected SLDs, CLDs and parameters<br>
    </dl>
    <dd><br>
    </dd>
    <dl>
      <dt><b>Exit...</b></dt>
      <dd> Exits this program after a confirmation.</dd>
    </dl>
    <dt> <b><u>Page</u></b></dt>
    <dl>
      <dt> <b>Find</b></dt>
      <dd> Clears the machine tree keyboard selection area, readying the
program for a new selection either using the mouse or the keyboard.</dd>
      <dt> <b>New</b></dt>
      <dd> If a leaf node is selected on the machine tree table, creates
a new device page for that node. This does the same thing as clicking on
the node with the 2nd mouse button.</dd>
      <dt> <b>Show</b></dt>
      <dd> Brings the currently selected page to the front and makes it
visible if not already.</dd>
      <dt> <b>Hide</b></dt>
      <dd> Hide (make invisible) the currently selected page in the
list. This takes the page off the screen, but leaves it in the list. You
can then show it by choosing the Show menu item.</dd>
      <dt> <b>Close</b></dt>
      <dd> Closes the currently selected device page</dd>
      <dt> <b>Close All...</b></dt>
      <dd> Closes all devices pages after issuing a confirmation.</dd>
      <br>
    </dl>
    <dt> <b><u>Options</u></b></dt>
    <dl>
      <dt> <b>Search...</b></dt>
      <dd> This option allows the user to search for a particular
device. A prompt will ask for a search string, which could be a partial
device name. The result of the search will then be displayed allowing
the user to view the device in one or more device lists.</dd>
      <dt> <b>Read Archive Log</b></dt>
      <dd> Brings up a separate window allowing the user to view the log
of archives that have been made with the archiving system.</dd>
      <dt> <b>SLDs via Controller...<br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; </b>Brings up a window with a
list of controllers allowing the user to select from this list and bring
up all SLDs running on that controller.<br>
        <b>CLDs...</b></dt>
      <dd> Brings up a 'cld window' allowing the user to set values
and/or view measurements for CLDs.</dd>
      <dt> <b>CLD Events...</b></dt>
      <dd> Brings up a 'cld window' allowing the user to set timing
events for CLDs.<br>
      </dd>
    </dl>
    <dd><span style="font-weight: bold;">Reload DDF...<br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; </span>Temporarily closes all
existing SLD/CLD pages, reloads the ddf and then reloads the SLD/CLD
pages with the refreshed ddf.<br>
    </dd>
    <dd><br>
    </dd>
    <dl>
      <dd><br>
      </dd>
    </dl>
  </dl>
  <a href="#TableOfContents">Back to Table of Contents</a>
  <h4 style="margin-left: 40px;"> <a name="PetMenuItems"></a>Device
Page Menu Item Descriptions for ADO page<br>
  </h4>
  <dl>
    <dt> <b><u>Page</u></b></dt>
    <dl>
      <dt> <b>Open...</b></dt>
      <dd> Open an ado page definition file.</dd>
      <dt> <b>Reload</b></dt>
      <dd> Reload the current ado description file.</dd>
      <dt> <b>Set PPM User...<br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; </b>Change the ppm user for the
current page only</dt>
      <dt><b>View Source</b></dt>
      <dd> View the source of the current ado file in a viewer window</dd>
      <dt><b>Save As...</b></dt>
      <dd> Save the current ado page to a file after providing a file
name</dd>
      <dt><b>Create ADO Page...</b></dt>
      <dd> Create a new ado page from selected ADOs and parameters</dd>
      <dt> <b>Create PS ADO Page...</b></dt>
      <dd> Create a new ado page from a list of selected power supplies</dd>
      <dt><b>Read Data...<br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; </b>Read the data from a file to
this page.<br>
        <b>Save Data...</b></dt>
      <dd> Save the data on this page to a file.</dd>
      <dt> <b>Save Archive...</b></dt>
      <dd> Save an archive - Uses the save/restore tools. Will save the
current hardware values of this page, using the archive rules for what
will be stored.</dd>
      <dt> <b>Clear Msgs<br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; </b>Clear the message area for
this page<br>
        <b>Exit</b></dt>
      <dd> Exit the program<br>
        <br>
      </dd>
    </dl>
    <dt><b><u>Device</u></b></dt>
    <dl>
      <dt> <b>Description...</b></dt>
      <dd> Brings up a popup showing additional information about the
ADO in the current cell.&nbsp; This can also be brought up by clicking
on an ADO name with the right mouse button.</dd>
      <dt> <b>Show All Parameters...</b></dt>
      <dd> Brings up a new ado window showing all of the parameters
within the ADO in the current cell.&nbsp; This can also be brought up by
clicking on the ADO name with the middle mouse button.</dd>
    </dl>
    <dt> <b><u>Data</u></b></dt>
    <dl>
      <dt> <b>Get All</b></dt>
      <dd> Get the data for the whole page from the FEC.</dd>
      <dt> <b>Get Line</b></dt>
      <dd> Get the data for this line only.</dd>
      <dt> <b>Get Cell</b></dt>
      <dd> Get the data for the current cell only.</dd>
      <dt> <b>Set Cell Editable<br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; </b>This option makes the
selected cell editable<br>
        <b>Set Cell Non-Editable<br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; </b>This option makes the
selected cell non editable<br>
        <b>Update Continuously</b></dt>
      <dd> When on, this page will update on a timer with a frequency
given by the next menu item.</dd>
      <dt> <b>Update Frequency (3.0 secs) ...</b></dt>
      <dd> Specify the frequency for continuous updating. Current value
in parentheses.</dd>
      <dt> <b>Apply Filter to Table...</b></dt>
      <dd> Specify a filter for the entire table to be used in receiving
data asynchronously.</dd>
      <dt> <b>Apply Filter to Cell...</b></dt>
      <dd> Specify a filter for selected cell to be used in receiving
data asynchronously.</dd>
      <dt><b>Save Nudge (current cell)</b></dt>
      <dd> Save the nudge value for the currently highlighted cell. The
nudge will be saved to the ADO only if the nudgeVal property exists in
the ADO.</dd>
      <dt> <b>Save All Nudge Values</b></dt>
      <dd> Save all the nudge values currently set for all continuous
settings on the current pet page. The saves will be successful for only
those parameters which have the NudgeVal property defined in the ADO.</dd>
      <br>
&nbsp;
    </dl>
    <dt> <b><u>Tools</u></b></dt>
    <dl>
      <dt> <b>Value Editor</b></dt>
      <dd> Bring up the Value Editor Window.</dd>
      <dt> <b>Param Properties</b></dt>
      <dd> Show the Support Properties for the current cell.</dd>
      <dt> <b>Show All PPM Users<br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; </b>Bring up a new ado window
that shows all ppm users for the ado property in the currently selected
cell<br>
        <b>Delay Channel Editor<br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; </b>Bring up a Delay Channel
Editor Window used to edit DelayChannel ados.<br>
        <b><a href="#PetGraph">New Graph</a></b></dt>
      <dd> Bring up a dialog box to make stripchart, snapshot,
correlation plot or array graph(s).</dd>
      <dt> <b>Show All Graphs</b></dt>
      <dd> Show all of the hidden graphs.</dd>
      <dt> <b>Hide All Graphs</b></dt>
      <dd> Hide all of the visible graphs.</dd>
      <dt> <b>Delete All Graphs</b></dt>
      <dd> Delete all of the graphs from memory.</dd>
      <br>
&nbsp;
    </dl>
    <dt> <b><u>Buffer</u></b></dt>
    <dl>
      <dt> <b>Show</b></dt>
      <dd> Show/Hide the buffer table (will appear to right of table
with current values).</dd>
      <dt> <b>Load from Current</b></dt>
      <dd> Loads the buffer (for now the current pet display) with the
current values in hardware. At present, this option is the same as
'Edit/Undo All'.</dd>
      <dt> <b>Load from Archive...</b></dt>
      <dd> Loads the page (for now into the current cells - values that
are not the same as hardware will appear as edited cells) from data
stored in a user selected archive file.</dd>
      <dt> <b>Send Edited Values<br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; </b>This option sends only the
edited buffer values to the main window area (left side of window) and
to hardware<br>
        <b>Send All...</b></dt>
      <dd> Place values in current value table. All values that do not
agree with current values will appear as edited cells (if edited cells
exist, they will be overwritten). The user will be queried if values
should also be sent to hardware.</dd>
      <dt> <b>Undo Cell<br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; </b>Undo editing made to the
currently selected cell<br>
        <b>Undo Line<br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; </b>Undo editing made to all
cells on the currently selected line.<br>
        <b>Undo All<br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; </b>Undo all editing made to the
entire buffer.<br>
        <b>View Load Buffer Results...</b></dt>
      <dd> Use to view the results of loading the buffer. Indicates
where buffer was last loaded from, as well as the status of the load of
the buffer.</dd>
      <dt> <b>View Send Buffer Results...</b></dt>
      <dd> Use to view the results of the last send of the buffer.
Indicates which devices were not successfully loaded.</dd>
    </dl>
  </dl>
  <h4 style="font-weight: normal;"><a
 href="file:///view/seth/vobs/apps/pet/doc/pet.html#TableOfContents">Back
to Table of Contents</a> </h4>
  <h4><a name="DevicePageMenu"></a>Device Page Menu Item Descriptions
for SLD/CLD pages<br>
  </h4>
These descriptions are also available by pressing and holding the right
mouse button over the menu item.
  <dl>
    <dt> <b><u>Page</u></b></dt>
    <dl>
      <dt> <b>Operational Mode</b></dt>
      <dd> Selecting this items causes the program to display only those
columns that are useful for operations.</dd>
      <dt> <b>Engineering Mode</b></dt>
      <dd> Selecting this items causes the program to display all
columns, including those that are pertinent to operations, engineering
and diagnostic users.</dd>
      <dt> <b>Set PPM User...</b></dt>
      <dd> Allows the user to set the PPM user displayed on this device
page only.</dd>
      <dt> <b>Reload</b></dt>
      <dd> Reloads the devices for the current device page.</dd>
      <dt> <b>Duplicate...</b></dt>
      <dd> Creates a duplicate of this device page. The user is first
prompted for the PPM user to display on the duplicate page.</dd>
      <dt> <b>Print</b></dt>
      <dd> This is now a sub-menu which includes global print options
(available for all Control's applications), as well as application
specific print options (Print Visible and Print All).</dd>
      <dt> <b>Hide</b></dt>
      <dd> Makes the window invisible, but still leaves it in the Page
List on the main pet window.</dd>
      <dt> <b>Close</b></dt>
      <dd> Closes this device page without a confirmation.</dd>
    </dl>
    <dt> <b><u>Device</u></b></dt>
    <dl>
      <dt> <b>Description...</b></dt>
      <dd> Allows the user to view and edit database description for the
current device as well as view the ddf details.</dd>
      <dt> <b>Show All PPM Users</b></dt>
      <dd> Brings up a separate window displaying the current device for
all PPM users.</dd>
      <dt> <b>Show CLD Editor</b></dt>
      <dd> Brings up a new window which let the user view and/or edit
CLD setpoints, measurements, commands and statuses. CLD reports are
updated continuously.</dd>
      <dt> <b>View\Edit Metadevice</b></dt>
      <dd> Brings up the metadevice editor for the currently selected
metadevice. If no metadevice is selected, a blank metadevice editor is
displayed.</dd>
    </dl>
    <dt> <b><u>Setpoint</u></b></dt>
    <dl>
      <dt> <b>Decrement</b></dt>
      <dd> Decrements the setpoint for the current device by the nudge
value. This is the same as clicking on the nudge value with the right
mouse button.</dd>
      <dt> <b>Increment</b></dt>
      <dd> Increment the current device setpoint by the nudge value.
This is the same as clicking on the nudge value using the left mouse
button.</dd>
      <dt> <b>Send (Return or Enter key)</b></dt>
      <dd> Sends the current setpoint to the device hardware. This is
the same as clicking on the setpoint value with the middle mouse button.</dd>
    </dl>
    <dt> <b><u>Nudge</u></b></dt>
    <dl>
      <dt> <b>Edit...</b></dt>
      <dd> Allows the user to edit the nudge value for the current
device. This does not permanently store this value in the database.</dd>
      <dt> <b>Edit All...</b></dt>
      <dd> Allows the user to enter a nudge value that will be put in
the nudge cell for all devices on this device page. This does not
permanently store these values in the database.</dd>
      <dt> <b>Save</b></dt>
      <dd> Permanently stores the nudge value for the current device
into a file. No confirmation.</dd>
      <dt> <b>Save All...</b></dt>
      <dd> Permanently stores the nudge values for all devices on the
device page into a file after a confirmation.</dd>
    </dl>
    <dt> <b><u>Buffer</u></b></dt>
    <dl>
      <dt> <b>Send...</b></dt>
      <dd> Sends the contents of the buffer to the device hardware,
making these values the current values. A confirmation appears before
sending the values.</dd>
      <dt> <b>Send Device</b></dt>
      <dd> Sends the contents of the buffer for the current device to
hardware.</dd>
      <dt> <b>Save Temp. File</b></dt>
      <dd> Saves the current data into a temporary file. This data can
later be retrieved using the Load from Temp menu option. There is one
temp. file in the system for each device list.</dd>
      <dt> <b>Load from Current</b></dt>
      <dd> Loads the buffer columns from the current setpoint and
command columns.</dd>
      <dt> <b>Load from Temp. File</b></dt>
      <dd> Loads the buffer columns from setpoint and command data
stored in the temp. file. There is one temp. file in the system for each
device list.</dd>
      <dt> <b>Load from Archive...</b></dt>
      <dd> Loads the buffer columns from data stored in a user selected
archive file.</dd>
      <dt> <b>Load Global Command...</b></dt>
      <dd> Loads a command into one of the buffer command fields for all
devices on this device page.</dd>
      <dt> <b>Load Global Setpoint...</b></dt>
      <dd> Loads a setpoint into the buffer for all devices on this
device page.</dd>
      <dt> <b>View Load Buffer Results...</b></dt>
      <dd> Displays a non-blocking popup with the results of the last
buffer load.</dd>
      <dt> <b>View Send Buffer Results...</b></dt>
      <dd> Displays a non-blocking popup with the results of the last
buffer send.</dd>
    </dl>
    <dt> <b><u>Diagnostics</u></b></dt>
    <dl>
      <dt> <b>Show Device Units</b></dt>
      <dd> When selected, the extra columns displayed in engineering
mode show values in devices units (CNTS = counts) rather than
engineering units.</dd>
      <dt> <b>Show Engineering Units</b></dt>
      <dd> When selected, the special columns shown when in engineering
mode, show engineering units like mA, V, instead of device units
(counts).</dd>
    </dl>
  </dl>
  <a href="#TableOfContents">Back to Table of Contents</a>
  <h2> <a name="FAQ"></a>Frequently Asked Questions</h2>
  <b>How do I add or remove items from a device list?</b>
  <blockquote>Note that the Machine Tree and its associated device
lists are under the control of the Operations group. Any changes should
be made only after obtaining permission from Operations. To edit an
existing device list, use the ArchiveManager program. This program can
be started using StartUp under the General Programs section. Once
started, choose select the leaf that you wish to edit from the Machine
Tree on that program, then choose Device List from the Options menu. A
new window will appear showing you the existing device list. Click the
Edit button, make your changes, then click the Save button.</blockquote>
  <b>How do I change the Machine Tree?</b>
  <blockquote>The Machine Tree is under the strict control of the
Operations group and should only be changed by a member of that group.</blockquote>
  <b>What are the major differences between the latest version of pet
and the old Apollo version of SpreadSheet?</b>
  <ul>
    <li> The new pet operates with a Main Window and one or many Device
Pages. The main window always displays the Machine Tree, allowing you to
select a new device list at any time. The selected devices will then
replace the devices in the current device page if the list is selected
with the 1st mouse button, or be included in a newly created device page
if the list is selected with the 2nd mouse button. As many device pages
can be created as desired.</li>
    <li> Each device page contains an entire device list in a scrolling
table. The window can be resized to display more or fewer devices from
the list. Blank lines in the device_list file, which were used to
signify page breaks, are now seen as blank rows in the table. The window
scrolls and can be resized horizontally as well to view different
columns. Initially the device page comes up in Operational Mode,
displaying only measurement, setpoint, command, status, nudge and buffer
columns. To see additional columns, choose Engineering Mode from the
Page menu.</li>
    <li> Each newly created device page inherits the PPM user from the
default PPM user. The default PPM user is set from the main window. A
menu item on the device page can then be used to change the PPM user if
desired. All devices on a device page use the same PPM user, but each
device page can have a different PPM user. The same device list can be
displayed for different PPM users on different device pages.</li>
    <li> Editing of SLD setpoints is done right in the cell. First
highlight the cell by clicking on it or by using the keyboard arrow keys
to move to it. Then type in the new value. Hitting the RETURN or ENTER
key on the keyboard or clicking on the cell with the middle mouse button
sends down the value.</li>
    <li> Commands are edited via a cell menu. Click on the cell with the
left mouse button to see the list of possible commands and make a
selection. The command is sent down immediately upon selection.</li>
    <li> A new Nudge column appears next to the Setpoint column. This is
the value used to increment or decrement the associated setpoint.
Clicking on the nudge cell with the 1st mouse button performs a
decrement, while clicking with the 3rd mouse button performs an
increment. A click with the middle mouse button brings up a popup for
editing the value. A Nudge menu allows you to edit all nudge values on a
device page. The menu also has options for saving the current value or
values to the permanent storage so that they can be used as initial
values the next time this device list is opened.</li>
    <li> As with other AGS X Window programs, the right mouse button is
used to get help or retrieve additional information about an item on the
user interface. Each menu item has right mouse button help (press and
hold the right mouse button over the item). Pressing the right button on
a device name will cause device information to be displayed. The device
description can be edited here.</li>
    <li> The Buffer columns have behavior similar to the old SpreadSheet
except that these columns are now editable. This permits, for example,
loading new device settings for a number of devices and sending these
new values to hardware simultaneously.</li>
    <li> CLDs can be viewed and/or edited with this version of pet. The
CLD can be selected either thru the Options menu on the main window, or
by clicking on a CLD name within a displayed device list. See <a
 href="#WorkingWithClds">Working with CLDs</a> for more information.</li>
  </ul>
  <a href="#TableOfContents">Back to Table of Contents</a>
  <h2> <a name="Glossary"></a>Glossary of Terms</h2>
  <dl>
    <dt> <b>SLD</b></dt>
    <dd> Simple Logical Device. One of the basic data structures of the
AGS Control system, an SLD consists of zero or one setpoint, zero or one
measurement, up to 8 commands and up to 16 statuses.</dd>
    <dt> <a name="WhatIsCLD"></a><b>CLD</b></dt>
    <dd> Complex Logical Device. One of the basic data structures of the
AGS Control system, a CLD consists of any number of setpoints, any
number of measurements, up to 8 commands and up to 16 statuses. See also <a
 href="#WorkingWithClds">Working with CLDs</a>.</dd>
    <dt> <b>Parameter</b></dt>
    <dd> A parameter is similar to an SLD in that it contains a setpoint
and one or more command fields. However, it differs in a few important
ways. First, parameters are not stored in hardware like SLDs, they are
stored in the database. There are no controllers or stations associated
with parameters. Also, parameters do not have statuses. See also <a
 href="#WorkingWithParameters">Working with Parameters</a>.</dd>
    <dt> <b>MetaDevice</b></dt>
    <dd> Meta devices are special devices which can control many other
devices (SLDs, CLDs, or Parameters). How these devices are linked is
stored in the database. Each metadevice has a name and an associated
function, which it applies to each of its meta member devices. See also <a
 href="#WorkingWithMetaDevices">Working with MetaDevices</a>.</dd>
    <dt> <b>Nudge</b></dt>
    <dd> Moving a setpoint up or down by a fixed amount. The amount of
movement is called the nudge value. It is usually a small percentage of
the setpoint value. See also <a href="#Nudging">Nudging
(Increment/Decrement)</a>.</dd>
    <dt> <b>Buffer</b></dt>
    <dd> An area on a device page which can be used to buffer a setpoint
and up to 3 commands. When the page is loaded it holds the initial
values for devices on that page. Buffer values can be reloaded from
various places or send directly to hardware. See also <a
 href="#UsingTheBuffer">Using the Buffer</a>.</dd>
  </dl>
  <a href="#TableOfContents">Back to Table of Contents</a>
</ul>
</body>
</html>
